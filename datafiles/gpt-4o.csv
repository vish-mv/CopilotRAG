question,answer,contextOrg,ground_truth
How to deploy a webapp?,"To deploy a web application using Choreo, follow these steps:

### Prerequisites
- A GitHub account with a repository containing the implementation of your web application. You can fork the [Choreo sample apps repository](https://github.com/wso2/choreo-sample-apps/) for examples.

### Step-by-Step Guide

#### 1. Create and Connect Web Application Component
1. **Connect to GitHub**:
    - Ensure your GitHub repository is ready. The Choreo GitHub App will need specific permissions: read access to issues and metadata, and read/write access to code, pull requests, and repository hooks.

2. **Create Component in Choreo**:
    - In the Choreo Console UI, go to the section for creating a new Web Application component.
    - Connect the component to your GitHub repository containing your web application.

#### 2. Deploy the Web Application
1. **Initiate Deployment**:
    - In Choreo Console left navigation menu, click **Deploy**.
    - In the **Build Area** card, click **Deploy Manually**. 

2. **Monitor Deployment**:
    - The deployment process initiates the build pipeline. Deployment might take a few minutes.
    - Monitor progress via console logs on the right of the page. Choreo performs security scans like Dockerfile scan and Container (Trivy) vulnerability scan during this process.
    - Once the deployment is complete, the status in the environment card changes to **Active**.

3. **Access the Deployed Web Application**:
    - Copy the **Web App URL** from the development environment card.
    - Paste it into your browser to verify that the web application is successfully hosted.

### Additional Configurations
- **DevOps Configurations**: Modify settings related to scaling, health checks, and configuration & secret management in your deployment environment.

### Summary
Deploying a web application in Choreo involves creating a web application component linked to a GitHub repository, followed by deploying the component manually through the Choreo Console. Monitoring and accessing the deployment process is user-friendly through the Choreo UI, with built-in security and configuration management features.

For more detailed information, you can refer to the [Choreo official documentation](https://github.com/wso2/choreo-sample-apps/).","['\nA Web Application is an application program that is hosted on a server and serves ingress traffic through the browser. In Choreo, you can deploy a web application by creating a Web Application component and connecting it to a Git repository that includes the implementation of the Web Application. A Web Application can be one of the following:\n\n- Single Page Applications (SPAs) like React, Angular, Vue, Svelte, etc.\n- Web servers that serve static content or provide server-side rendering/static site generation (SSR/SSG).\n- Static content, such as websites and other static resources that do not require a backend. These resources are usually just static HTML/JS/CSS files that need to be hosted.\n', '\n1. To deploy a web application component, you will need a GitHub account with a repository that contains a web application. Fork the [Choreo sample apps repository](https://github.com/wso2/choreo-sample-apps/), which contains the sample for this guide.\n2. The Choreo GitHub App requires the following permissions:\n    - Read access to issues and metadata.\n    - Read and write access to code, pull requests, and repository hooks.\n', ""\nOnce the web application component is created, you can deploy it to the Choreo runtime. To deploy the web application component, follow the steps below:\n\n1. In the left menu, click **Deploy**.\n2. In the **Build Area** card, click **Deploy Manually**. The deployment may take a few minutes to complete.\n3. Once the web application is deployed, copy the **Web App URL** from the development environment card.\n4. Navigate to the web app URL. You can verify that the web app is successfully hosted.\n\nNext, let's create a user to access the web application."", '\n1. On the Deploy page, click **Deploy Manually**. \nDeploying the component initiates the build pipeline, and upon completion, your application will become accessible in your Development environment through a generated URL. Choreo takes care of automatic TLS/SSL management for your apps.\n\n    !!! note\n        The deployment of the Web Application component may require some time. You can monitor the progress by observing the logs. Once the deployment is finished, the deployment status in the corresponding environment card will change to **Active**.\n\n\n2. Check the deployment progress by observing the console logs on the right of the page.\n    You can access the following scans under **Build**. \n\n    - **The Dockerfile scan**: Choreo performs a scan to check if a non-root user ID is assigned to the Docker container to ensure security. If no non-root user is specified, the build will fail.\n    - **Container (Trivy) vulnerability scan**: This detects vulnerabilities in the final docker image. \n    - **Container (Trivy) vulnerability scan**: The details of the vulnerabilities open in a separate pane. If this scan detects critical vulnerabilities, the build will fail.\n\n    !!! info\n        If you have Choreo environments on a private data plane, you can ignore these vulnerabilities and proceed with the deployment.\n\n    The DevOps configurations related to scaling, health checks and configuration & secret management are available to all Web Application components regardless of how they were created, similar to other Choreo components. \n\n3. To access your Web application, copy the **Web App URL** on the environment card and paste it in a browser. You will see your React App that you created. \n', ""\nLet's deploy the webhook to the development environment to make it invokable:\n\n1. In the Choreo Console left navigation menu, click **Deploy**.\n2. In the **Build Area** card, click **Configure & Deploy**.\n3. In the **Configurations** pane, enter the following information:\n\n    1. In the **webhookSecret** field, enter any value.\n   \n        !!! note\n            You must save this value for later use.\n   \n    2. In the **toEmail** field, enter the email address to send notification emails.\n    3. Click **Deploy**.\n\n    You can monitor the deployment progress in the **Console** pane that opens on the right of the page.\n\nOnce Choreo completes the deployment, the **Development** card indicates the **Deployment Status** as **Active**.\n\n!!! notes\n    In the deployment card, you can click the icon corresponding to configurables to open the **Configurations** pane and edit configurations:\n\n""]","To deploy a web application in Choreo, follow the steps below:\n\n1. **Create a project**:  On the organization home page, click **+ Create Project**. Enter a display name, unique name, and description for the project. Click **Create**. This creates the project and opens the project home page. \n\n2. **Create a Web Application component**: On the project home page, click **Web Application** under **Create a Single Component**. Enter a unique name and a description for the web application. \n\n3. **Connect to GitHub**: Go to the **GitHub** tab and click **Authorize with GitHub**. If you have not already connected your GitHub repository to Choreo, enter your GitHub credentials and select the repository. You can also paste the repository URL in the **Provide Repository URL** field to connect to it without requiring authorization. \n\n4. **Enter the required information**: Enter the required information such as your GitHub account in the **Organization** field, repository name in the **Repository** field, and the branch name in the **Branch** field. \n\n5. **Select Buildpack**: Select a build Buildpack (eg: NodeJS, React, Python,PHP, etc.) as the **Buildpack** and provide the necessary details (eg: Project Directory, Language Version, Port, etc.). \n\n6. **Create the component**: Click **Create**. Choreo initializes the component with the sample implementation and opens the **Overview** page of the component.\n\n7. **Build your web application**: In the left navigation menu, click **Build**.In the Builds pane, click **Build**. This opens the Commits pane, where you can see all the commits related to the component. Select the latest commit and click **Build**. This triggers the build process and displays the progress in the **Build Logs pane**.\n\n8. **Deploy the web application**: In the left navigation menu, click **Deploy**. In the **Set Up** card, click **Configure and Deploy**. Click **Next** to move to the **Authentication Settings** pane. Keep the default settings and click **Deploy**. \n\n9. **Verify the deployment**: To verify that you have successfully hosted the web application, click the **Web App URL** in the **Development** card. This takes you to the web application."
"How to resolve ""Module not found error"" during the deployment of a Python project?","To resolve a ""Module not found"" error during the deployment of a Python project in Choreo, follow these steps:

1. **Verify Dependencies**:
   Ensure that all the dependencies required for your Python project are listed in the `requirements.txt` file. The deployment process uses this file to install necessary packages.

2. **Check File Structure**:
   Verify that the file structure of your project aligns with what is expected. Your project might not be able to locate the modules if the directory structure is incorrectly set up.

3. **Correct Output Directory**:
   If you encounter a blank page or a 502 error, it might indicate that the wrong directory is being served. Ensure the build output directory specified matches the actual output generated during the build process. 

For example, if you have mistakenly specified `public/` as the output directory but it should have been `build/`, you need to correct this to match the actual directory structure.

4. **Testing Locally**:
   Before deploying the application on Choreo, test it locally to make sure that all modules are correctly imported and the application runs without errors. This helps catch module not found errors early.

5. **Environment Configuration**:
   Ensure that your local development environment and the deployment environment on Choreo are consistent. Disparities between local and deployment environments can often lead to module errors.

6. **Utilize Choreo's Capabilities**:
   Leverage the Choreo VS Code extension for a better development experience. Ensure that your local environment is properly configured with the [Choreo VS Code extension](https://marketplace.visualstudio.com/items?itemName=WSO2.choreo), which aids in project and component management.

By following these steps, you should be able to resolve the ""Module not found"" error and successfully deploy your Python project on Choreo.

For more detailed configurations and additional help, you might want to refer to the Choreo documentation or support: [Choreo Documentation](https://wso2.com/choreo/docs)","['\nUsing Choreo, you can easily deploy applications written in different language frameworks (such as Java, Go, NodeJS, Python, Ruby, PHP, etc.) on shared or private data planes.\n\nChoreo supports deploying applications with buildpacks for the following component types:\n\n- Service\n- Web Application\n- Scheduled Task\n- Manual Task\n- Webhook\n- Event Handler\n- Test Runner\n', '\n- **I’m seeing a blank page or a 502 error after I deploy my web application**\n\n    If you encounter a blank page or a 502 error after deploying your web application, it typically indicates that the wrong directory is being served. To resolve this issue, follow these steps:\n\n    - Double-check the build output directory, especially if you are using a Dockerfile-less preset. Ensure that the specified output directory matches the actual output directory generated during the build process. For example, erroneously if you have entered `public/` as the output directory when it should have been `build/`.\n\nBy verifying and correcting the output directory alignment, you should be able to address the issue of seeing a blank page or experiencing a 502 error after deploying your web application.', '\nComponents belong to a project in Choreo and environments are provisioned per project as well. When a component is deployed, it is deployed as a container to the specified environment. Once deployed, you can promote the container image across the environments available in the project.\n\n\n\n', '\nFor a seamless development experience with the Choreo extension, ensure you configure the following in your local environment:\n\n1. [Visual Studio Code](https://code.visualstudio.com/download) with the Choreo extension installed.\n2. [Ballerina distribution](https://ballerina.io) Update 4 or later.\n3. [Ballerina extension](https://marketplace.visualstudio.com/items?itemName=WSO2.ballerina) for VS Code, version 4.0.0 or later\n', '\nThe [Choreo VS Code extension](https://marketplace.visualstudio.com/items?itemName=WSO2.choreo) provides a wide range of project and component management capabilities to enhance the local development of projects and components in Choreo.\n']","To resolve a **Module not found""** error during the deployment of a Python project in Choreo:\n\n1. **Verify Dependencies:**\n   - Ensure all required Python modules are in `requirements.txt`\n   - Example `requirements.txt`:\n     ```plaintext\n     flask\n     requests\n     numpy\n     ```\n\n2. **Check File Paths:**\n   - Verify that the modules and packages being imported in your Python code have the correct file paths\n\n3. **Rebuild the Component:**\n   - Trigger a rebuild after updating `requirements.txt` or file paths. This will ensure that any changes made to the dependencies are included in the new build.\n\n4. **Inspect Logs:**\n   - . If the error persists"
How to add authentication to my service?,"To add authentication to your service using Choreo, you can leverage Choreo's managed authentication. This process involves integrating authentication and authorization into your web application to ensure secure access to your APIs. Here is a comprehensive guide to help you set this up:

### Step-by-Step Guide to Add Authentication

1. **Develop, Deploy, and Test Your Service Component**
   - Ensure you have developed and deployed a service component in Choreo.
   - Test the service to confirm that it's working as expected.

2. **Create a Web Application to Consume the Exposed Service**
   - Develop a web application that will consume the service exposed by your service component.
   - This web application will include sign-in, sign-out functionalities and will interact with the backend service securely.

3. **Create a Connection to the Deployed Service**
   - In the Choreo Console, create a connection from your web application to the service component you've deployed.
   - This will allow your web application to consume the service.

4. **Enable Managed Authentication and Deploy the Web Application**
   - Follow the steps below to integrate managed authentication into your web application.

#### Implement Sign-In Functionality
You need to implement a sign-in button that redirects users to the `/auth/login` path. Here is a code snippet for the sign-in button:
```javascript
<button onClick={() => {window.location.href=""/auth/login""}}>Login</button>
```
When a user clicks this button, they will be redirected to the preconfigured identity provider for authentication.

#### Obtain User Information Claims
You can get user information claims post-sign-in via cookies or by invoking a GET resource.

*Obtain User Information via Cookie*:
```javascript
import Cookies from 'js-cookie';

const encodedUserInfo = Cookies.get('userinfo');
const userInfo = JSON.parse(atob(encodedUserInfo));
Cookies.remove('userinfo', { path: '/' });
```

*Obtain User Information via GET Endpoint*:
```javascript
const response = await fetch('/auth/userinfo');
const userInfo = await response.json();
```

#### Implement Sign-Out Functionality
Implement a sign-out button that redirects users to the `/auth/logout` path along with the `session_hint`.
```javascript
<button onClick={async () => {
    window.location.href = `/auth/logout?session_hint=${Cookies.get('session_hint')}`;
}}>Logout</button>
```
When clicked, this button will clear the session cookies and log the user out.

#### Invoke APIs
You can invoke Choreo APIs using the relative path `/choreo-apis/<api-suffix>`.
```javascript
const response = await fetch('/choreo-apis/<api-suffix>');
```
The `<api-suffix>` can be obtained from your Choreo Console under the connection details.

#### Refresh Session
If the user’s session expires, you need to handle session refresh by calling the `/auth/refresh` endpoint.
```javascript
const response = await fetch(""/auth/refresh"", { method: ""POST"" });
```

#### Set Up a Custom Error Page
Configure a custom error page in Choreo to handle authentication redirection errors by defining an error path in the configuration.

### Final Steps
After implementing the above functionalities:

1. **Deploy the Web Application**: Deploy your web application via the Choreo Console with the enabled managed authentication.
2. **Consume the Deployed Service via the Web Application**: Ensure the web application consumes the deployed service by making authenticated API calls.

For detailed steps and additional configurations, refer to the following documentation:

- [Enable Managed Authentication for Your Web Application](https://github.com/wso2/choreo-samples/tree/main/reading-list-app/reading-list-front-end-with-managed-auth)
- [Quickstart: Register an application with the Microsoft identity platform](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app)
- [Quickstart: Configure an application to expose a web API](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis)

This comprehensive approach will help you add authentication to your service securely and efficiently using Choreo's managed authentication.","[""\nChoreo is an Internal Developer Platform (IDevP) that streamlines the entire process of building, deploying, monitoring, and managing your cloud-native applications easily.\n\nIn this quick start guide, you will explore how to expose a service endpoint via Choreo and securely consume the service from a web application. You will use a simple reading list web application with a sign-in page and functionality to interact with a secure backend service. You will also use Choreo's managed authentication to easily set up authentication for your web application without having to dive into the details of security protocols. The application will allow users to sign in and view their reading lists, add books to a reading list, delete books from the reading list, and sign out of the application effortlessly.\n\nThis guide walks you through the following steps:\n\n- Develop, deploy, and test a service component.\n- Create a web application to consume the exposed service.\n- Create a connection to the deployed service.\n- Enable managed authentication and deploy the web application.\n- Consume the deployed service via the web application.\n\n"", '\nTo enable external IdP authentication for APIs,  create an API on Azure AD that represents the API on Choreo. Follow the steps below: \n\n1. Sign in to the Azure console.\n2. Follow the [Azure guide](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app#register-an-application) to create a Web API that represents your API on Choreo.\n3. In the left navigation menu, under **Manage**, select **Expose an API**.\n4. Add the default **Application ID URI** and click **Save and Continue**.\n5. Under **Scopes defined by this API**, select **Add a scope**.\n6. Enter the fully qualified name as the **scope name**. \n7. Define who can consent. You can alternatively [add a scope requiring admin consent](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis#add-a-scope-requiring-admin-consent).\n8. Enter appropriate values and click **Add Scope**.\n\nFor more information, refer to the Azure documentation: \n\n- [Quickstart: Register an application with the Microsoft identity platform](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app)\n- [Quickstart: Configure an application to expose a web API](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis)\n\n### Step 2.1: Assign users to the web API\n\nYou can restrict users to the API as follows: \n\n1. Go to your Azure AD main menu. \n2. Under **Manage**,  click on **Enterprise Applications**. Alternatively, on Microsoft Entra, under **Applications**, click **Enterprise Applications**.\n3. Select your API. \n4. Under **Manage**, select the **Users and groups** then select **+ Add user/group**.\n5. Select the users and groups and click **Select**.\n\nFor more information, refer to the Azure documentation: [Assign the app to users and groups to restrict access](Assign the app to users and groups to restrict access)\n', '\nTo secure your web application, you must implement authentication and authorization for it. \n\nTo easily set up authentication for your web application with Choreo\'s managed authentication, follow the steps given below. You can also refer to a sample [React app with managed authentication](https://github.com/wso2/choreo-samples/tree/main/reading-list-app/reading-list-front-end-with-managed-auth).  \n\n### Step 1.1: Implement the sign-in functionality\n\nTo allow Choreo to manage the sign-in functionality for your web application, you must implement a sign-in button that redirects users to the `/auth/login` path on click. You can use the following code snippet or any custom button component from a preferred UI component library:\n\n``` javascript\n<button onClick={() => {window.location.href=""/auth/login""}}>Login</button>\n```\n\nThis code snippet works as follows:\n\nWhen a user clicks sign in on your web application, Choreo will redirect the user to the preconfigured identity provider and handle the authentication process, conforming to the OICD/OAuth2.0 protocols. On successful sign-in, Choreo will set the relevant session cookies and redirect the user to the post-sign-in path (default is `/`). The user can then invoke any Choreo-deployed APIs depending on the permission granted.\n\n### Step 1.2: Obtain user information claims\n\nChoreo\'s managed authentication allows you to access user information claims that the identity provider returns post-sign-in, either via a cookie or by invoking a GET resource.\n\n\n#### Obtain user information via the `userinfo` cookie\n\nUpon successful sign-in, Choreo\'s managed authentication establishes a `userinfo` cookie that is accessible from the post-sign-in path you configured (by default, set to /). This `userinfo` cookie, provided by the identity provider, contains encoded user information claims.\n\n!!! note\n    - The `userinfo` cookie is intentionally set to have a short lifespan of only 2 minutes.\n    - As a developer, you can decide how to utilize the user information that you retrieve. You must securely store the user information because the stored information can also serve as a means to verify the logged-in state of a user.\n    - The following example uses the `js-cookie` library for cookie parsing. You can use any cookie-parsing library of your choice.\xa0\n\nThe recommended approach is to retrieve user information from the cookie and subsequently clear the cookie. The following is a sample code snippet that you can include in your post-sign-in path to retrieve user information from the cookie and subsequently clear the cookie:\n\n``` javascript\n    import Cookies from \'js-cookie\';\n\n    // Read userinfo cookie value.\n    const encodedUserInfo = Cookies.get(\'userinfo\')\n\n    // Decode the value. \n    const userInfo = JSON.parse(atob(encodedUserInfo))\n\n    // Store the value in a preferred browser-based storage if needed.\n\n    // Clear the cookie.\n    Cookies.remove(\'userinfo\', { path: <post-login-path> })\n```\n#### Obtain user information via a GET endpoint\n\nChoreo\'s managed authentication provides the GET endpoint `/auth/userinfo` in addition to the `userinfo` cookie that it sets after successful sign-in. You can use this endpoint to query information about users who have signed in. It also serves as a mechanism to check the state of a user who has signed in.\n\nThe following is an example of a request to this endpoint:\n\n``` javascript\nconst response = await fetch(\'/auth/userinfo\')\n```\n\nIf a user has signed in, the server sends a `200 OK` response with the user information in JSON format in the response body. However, if the user is not signed in, the server sends a `401 Unauthorized` response.\n\n### Step 1.3: Implement the sign-out functionality\n\nTo allow Choreo to manage the sign-out functionality of your web application, you can implement a sign-out button to redirect users to the `/auth/logout` path along with the `session_hint` cookie value on click. You can use the following code snippet or any custom button component from a preferred UI component library:\n\n!!! note\n    - It is recommended to clear any user information (if stored) at the time of sign-out.\n    - The following example uses the `js-cookie` library for cookie parsing. You can use any cookie-parsing library of your choice.\xa0  \n    \n``` javascript\n<button onClick={async () => {\n    window.location.href = `/auth/logout?session_hint=${Cookies.get(\'session_hint\')}`;\n}}>Logout</button>`\n```\n\nWhen a user clicks the sign-out button, Choreo will clear the session cookies and redirect the users to the OIDC logout endpoint of the configured identity provider (if available).\xa0\xa0\n\n### Step 1.4: Invoke APIs\n\nTo invoke Choreo APIs within the same organization as your web application, you can use the relative path `/choreo-apis/<api-suffix>`, regardless of whether managed authentication is enabled for the web application or not.\n\n!!! note\n    To invoke a Choreo API from a web application, you need to [create a Connection](../develop-components/sharing-and-reusing-services.md#create-a-connection-to-a-service) from the web application to the Choreo API. \n\nFor example, if the API URL is `https://2d9ec1f6-2f04-4127-974f-0a3b20e97af5-dev.e1-us-east-azure.choreoapis.dev/rbln/item-service/api-e04/1.0.0`, the `<api-suffix>` would be `/rbln/item-service/api-e04/1.0.0`. You can invoke the API using the `/choreo-apis/rbln/item-service/api-e04/1.0.0` relative path from your single-page application.\n\n!!! info\n     To copy the exact service URL of a Connection, you can follow the steps given below:\n      1. In the Choreo Console, go to the appropriate web application component.\n      2. In the left navigation menu, click **Connections** under **Dependencies**.\n      3. Click on the required Connection and copy the service URL.\n\nIf you enable Choreo\'s managed authentication, you don\'t have to manually add any logic to attach an access token to the API call because Choreo APIs accept the cookies set by Choreo\'s managed authentication. You can directly invoke the API as follows:\n\n```\n    const response = await fetch(\'/choreo-apis/<api-suffix>\')\n```\n\nIf Choreo\'s managed authentication is disabled, you must ensure that your web application attaches a valid access token to the API call.\n\n\n### Step 1.5: Refresh session\n\nThe logged is user\'s session expires when the access token provided by the identity provider you have configured expires. After the session expires, the session must be refreshed to successfully call a Choreo-deployed API. For session refresh to function, you must set up the identity provider to issue a refresh token in addition to the access token.\n\n`401 Unauthorized` response status code for a Choreo API request from a logged in user with the necessary permissions indicates a possible session expiry. To refresh the session, you can make a POST request to the `/auth/refresh` endpoint.\n\nFor example:\n\n``` javascript\nconst response = await fetch(""/auth/refresh"", { method: ""POST"" })\n```\n\nIf the refresh token is valid, the session will be refreshed, and the system will respond with a `204 No Content` status.\n\nIf the refresh token has expired, the session will not be refreshed, and the system will respond with a `401 Unauthorized` status.\n\nTo automate the session refresh process on receiving a `401 unauthorized` response from the Choreo API, you can encapsulate the requests with the refresh logic. The following is an example code snippet that wraps GET requests:\n\n``` javascript\n    export const performGetWithRetry = async (url) => {\n        try {\n            // API call\n            return await fetch(\'/choreo-apis/<api-suffix>\');\n        } catch (error) {\n            if (error instanceof HttpError && error.status === 401) {\n                //Received 401 Unauthorized response from API GW. The access token may have expired.\n\n                // Try to refresh the token\n                const refreshResponse = await fetch(""/auth/refresh"", {\n                    method: ""POST""\n                });\n\n                const status = refreshResponse.status;\n                if (status === 401) {\n                    // Session has expired (i.e., Refresh token has also expired).\n                    // Redirect to login page\n                    window.location.href = ""/auth/login"";\n                }\n                if (status !== 204) {\n                    // Tokens cannot be refreshed due to a server error.\n                    console.log(""Failed to refresh token. Status: "" + status);\n\n                    //  Throw the 401 error from API Gateway.\n                    throw error;\n                }\n                // Token refresh successful. Retry the API call.\n                return await fetch(\'/choreo-apis/<api-suffix>\');\n            } else {\n                throw error;\n            }\n        }\n    };\n```\n\n### Step 1.6: Set up a custom error page\n\nYou can set up Choreo\'s managed authentication to redirect to a customized error page within your web application by defining the error path in the configuration. In the event of an error during a redirection-based process, such as sign in or sign out, Choreo will automatically redirect the user to the designated custom error page.\n\n!!! note\n    If you have not configured an error path, Choreo\'s managed authentication will use its default error page whenever an error occurs.\n\nChoreo\'s managed authentication will include the following query parameters in the URL when redirecting to the custom error page:\n\n| Parameter      |  Description                                    |\n|----------------|-------------------------------------------------|\n| code           | A short textual error code indicating the error |\n| message        | The description of the error                    |\n\n\nNow have successfully implemented Choreo\'s managed authentication for your web application. The next step is to enable managed authentication for the component, and subsequently deploy it.\n', ""\nTo follow this guide, you need to satisfy the following prerequisites:\n\n-  [Configure Azure AD as an external IdP](../administer/configure-an-external-idp/configure-azure-ad-as-an-external-idp.md). \n-  An API: If you don't already have an API in Choreo, [develop a REST API](../develop-components/develop-services/develop-a-rest-api.md) or an [API Proxy](../develop-components/develop-an-api-proxy.md).\n- Deploy and publish your API.\n- An Azure Active Directory account:  If you don’t already have one, set up an Azure Active Directory account at [https://azure.microsoft.com/en-gb/](https://azure.microsoft.com/en-gb/).\n- Administrator rights to your Choreo organization: You need this to configure the Azure AD account in your organization.\n- To create applications, the `Application Developer` role is required. [Learn more](https://learn.microsoft.com/en-us/azure/active-directory/roles/permissions-reference#application-developer)\n\n"", ""\nBefore you try out this guide, ensure you have set up the following:\n\n- Configure the Choreo built-in identity provider with users. For step-by-step instructions, see [Configure a User Store with the Built-In Identity Provider](../administer/configure-a-user-store-with-built-in-idp.md).\n- Deploy and publish an API via Choreo. If you don't have an existing API in Choreo, you can either [develop a REST API](../develop-components/develop-services/develop-a-rest-api.md) or an [API Proxy](../develop-components/develop-an-api-proxy.md).\n- A web application for API subscription. If you don't have an application in Choreo, you must [create a web application](../develop-components/develop-a-web-application.md).\n- Administrator rights in your Choreo organization. You need this access to configure role-group and role-permission mappings.\n""]","To add **authentication** to a service in **Choreo**, you can utilize **Choreo's managed authentication** or configure **custom authentication**. Here are the steps for integrating managed authentication and custom authentication:\n\n**Managed Authentication**\nManaged authentication is a feature provided by **Choreo** that simplifies the process of adding authentication and authorization to your web application. It supports web applications created with **React**, **Angular**, or **Vue.js** buildpacks.\n\n**Steps to Implement Managed Authentication:**\n\n1. **Implement Sign-in Functionality:**\n```<button onClick={() => { window.location.href = /auth/login"" }}>Login</button>```\nThis redirects users to the **login path** where **Choreo** handles the authentication process.\n\n2. **Obtain User Information Claims:**\n\n**Via Cookie:**\n```import Cookies from 'js-cookie';\nconst encodedUserInfo = Cookies.get('userinfo');\nconst userInfo = JSON.parse(atob(encodedUserInfo));\nCookies.remove('userinfo'"
How to add a custom domain to my web app?,"To add a custom domain to your web app deployed on Choreo, you can follow these steps. Ensure you decide whether you want to configure the custom domain for the Developer Portal or for the API Gateway based on your requirements:

### For Developer Portal:
1. **Navigate to Settings**: Click **Settings** on the left navigation menu.
2. **Organization Settings**: In the header, click the **Organization** list to open the organization level settings page.
3. **Select Domains**: Click the **Domains** tab and then click on the **Developer Portal** tab.
4. **Add Custom Domain**: Click **Add Custom Domain**.
5. **Enter Domain Name**: Enter your domain name and click **Verify**. Once Choreo verifies the custom domain successfully, click **Next**.
6. **TLS Certificates**: Add the TLS certificates you created for the custom domain and click **Add**. Alternatively, you can click the **Let's Encrypt** option to let Choreo generate and manage the certificates for you.

### For API Gateway:
1. **Navigate to Settings**: In the left navigation menu, click **Settings**.
2. **Organization Settings**: In the header, click the **Organization** list to open the organization level settings page.
3. **Select Domains**: Click the **Domains** tab and in the **Gateway** sub-tab, click **+ Add Custom Domain**.
4. **Enter Domain Name**: Enter your domain name and click **Verify**.
   ![Verify domain name](../assets/img/administer/create-custom-domain.png)
5. **TLS Certificates**: Once Choreo verifies the custom domain successfully, click **Next**. You can add the TLS certificates you created for the custom domain. Alternatively, you can click the **Let's Encrypt** option to let Choreo generate and manage the certificates for you.
6. **Save Custom Domain**: Click **Add** to save the custom domain.
   ![List custom domain](../assets/img/administer/list-custom-domain.png)

### Additional Notes:
- **Custom Domain Benefits**: A custom domain is essential for branding, discoverability, and credibility.
- **DNS Record Configuration**: Through your DNS administrator, create a `CNAME` type DNS record and associate it with the Choreo Developer Portal custom access domain: `customdns.devportal.choreo.dev`.

### Useful Documentation:
- [Customize the Developer Portal Domain](customize-the-developer-portal-domain.md)

These steps should help you configure a custom domain for either the Developer Portal or the API Gateway within Choreo.","[""\n1. Click **Settings** on the left navigation menu. \n2. In the header, click the **Organization** list. This will open the organization level settings page. \n3. Click the **Domains** tab and then click on the **Developer Portal** tab. \n4. Click **Add Custom Domain**. \n5. Enter your domain name and click **Verify**. Once Choreo verifies the custom domain successfully, click **Next**.\n6. Add the TLS certificates you created for the custom domain and click **Add**. Alternatively, you can click the **Let's Encrypt** option to let Choreo generate and manage the certificates for you.\n\nThat's it! You have successfully configured a custom domain for your organization's Choreo Developer Portal. \n"", ""\nTo configure a custom domain for your APIs, follow the steps given below:\n\n1. In the left navigation menu, click **Settings**.\n\n2. In the header, click the **Organization** list. This will open the organization level settings page. \n\n3. Click the **Domains** tab and in the **Gateway** sub-tab, click **+ Add Custom Domain**.\n\n4. Enter your domain name and click **Verify**. \n\n    ![Verify domain name](../assets/img/administer/create-custom-domain.png){.cInlineImage-half}\n\n5. Once Choreo verifies the custom domain successfully, click **Next**.\n\n6. You can add the TLS certificates you created for the custom domain. Alternatively, you can click the **Let's Encrypt** option to let Choreo generate and manage the certificates for you. For this scenario, let's click the **Let's Encrypt** option.\n\n7. Click **Add** to save the custom domain.\n\n    The **Settings** page displays the custom domain in the **Domains**/**Gateway** sub-tab.\n\n    ![List custom domain](../assets/img/administer/list-custom-domain.png){.cInlineImage-threeQuarter}\n\nThat's it! You have successfully configured a custom domain for your API Gateway. The API endpoint of the APIs you create will now include the custom domain as shown in the image below:\n\n![API with custom URL](../assets/img/administer/api-with-custom-url.png){.cInlineImage-threeQuarter}\n\nYou can also configure a custom domain for your developer portal. See the documentation [Customize the Developer Portal Domain](customize-the-developer-portal-domain.md) for instructions. "", '\nA custom domain for your site is essential for effective branding, discoverability, and credibility. Choreo allows you to configure a custom domain for the APIs you deploy in it.\n\nTo understand how to configure a custom domain for your APIs, see the following sections:\n', ""\nA custom domain for your site is essential for effective branding, discoverability, and credibility. Choreo allows you to configure a custom domain for your organization's developer portal.\n\nFollow the steps below to configure the custom domain for the Developer Portal:\n"", '\n1. Sign in to the Choreo Console at [https://console.choreo.dev/](https://console.choreo.dev).\n2. If you are a new user, create an organization. Enter a unique organization name. For example, ""Stark Industries"".\n    \n    ![Create an organization in Choreo](../assets/img/administer/create-choreo-organization.png){.cInlineImage-small}\n\n3. Obtain a custom domain through a domain registrar. \n4. Through your DNS administrator, create a `CNAME` type DNS record and associate it with the Choreo Developer Portal custom access domain: `customdns.devportal.choreo.dev`. \n5. Optionally, create TLS certificates and keys to enable TLS for the custom domain. For testing purposes, you can also opt to use the `let\'s encrypt` option. This option allows Choreo to create and manage the certificates on your behalf.\n']","to add a custom domain to a web app in Choreo:\n\nPrerequisites:\n1. Ensure you have organization administrator privileges.\n2. Make sure your web app is deployed in the desired environment.\n\nSteps to Add a Custom Domain:\n1. **Sign in to the Choreo Console**.\n2. **Access Organization Settings**:\n   * Click the **Organization** list in the Choreo Console header.\n   * In the left navigation menu, click **Settings**.\n   * Go to the **URL Settings** tab and then click the **Active Domains** tab.\n3. **Add the Custom Domain**:\n   * Click **+ Add Domains**.\n   * In the **Add a Custom Domain** pane, enter your domain name.\n   * Select the environment where you want to apply the domain name.\n   * Select the entity type as **Web App**.\n   * Note the generated CNAME target value displayed and create a DNS record associating your domain name to the CNAME target value with your DNS provider.\n4. **Verify the Domain**:\n   * Once the CNAME type DNS record is created, click **Verify**.\n5. **Configure TLS Certificates**:\n   * On successful verification, click **Next**.\n   * Select a TLS certificate provider. You can either import your own TLS certificates or allow Choreo to generate and manage the certificates using **Let's Encrypt**.\n6. **Save the Custom Domain**:\n   * Click **Add** to save the custom domain.\n\nConfigure a Custom URL for Your Web App:\n1. **Request a Custom URL**:\n   * Sign in to the Choreo Console.\n   * In the **Component Listing** pane, click on your web app.\n   * Click **Settings** in the left navigation menu.\n   * Go to the **URL Settings** tab. If an active custom domain is available, the **Edit URL Mapping** icon in the corresponding **Action** column will be enabled.\n2. **Configure the URL**:\n   * Click the **Edit URL Mapping** icon under the **Action** column for the desired environment.\n   * Select the domain from the **Domain** drop-down list.\n   * Click **Configure** to create the custom URL mapping. The custom URL request will be in **Pending** status until approved by an organization administrator.\n3. **Approval**:\n   * The organization administrator needs to approve the custom URL request from the organization-level settings page under the **Pending URL Requests** tab.\n\nOnce the custom URL request is approved, the custom domain will be applied to your web app."
How can I test my service?,"You can test your service in Choreo by following either of the two methods depending on whether you have deployed a REST or GraphQL service. Choreo provides integrated consoles for both types of services.

### Testing a REST Endpoint via the OpenAPI Console

Choreo provides an integrated OpenAPI Console to test REST endpoints of the services you create and deploy. Here are the steps you need to follow:

1. **Sign in to the Choreo Console**.

2. In the **Component Listing** pane, click on the component you want to test.

3. Click **Test** in the left navigation menu, then click **Console** to open the **OpenAPI Console** pane.

4. In the **OpenAPI Console** pane, select the environment from the drop-down list.

5. Select the required endpoint from the **Endpoint** list.

    ![OpenAPI Console](../assets/img/testing/openapi-console.png)

6. If the **Network Visibility** of the endpoint is set to **Organization**, click on **Generate URL** to generate a temporary test URL active for 15 minutes. Otherwise, skip this step.

7. Expand the resource you want to test.

8. Click **Try it out**.

9. Enter values for the parameters if applicable.

10. Click **Execute**. You can see the response body under **Responses**.

    ![OpenAPI Console](../assets/img/testing/openapi-console.png)

For detailed steps and notes on testing REST endpoints, refer to [this documentation](https://docs.choreo.dev/).

### Testing a GraphQL Endpoint via the GraphQL Console

Similarly, to test your GraphQL endpoints, you can use the integrated GraphQL Console:

1. **Sign in to the Choreo Console**.

2. In the **Component Listing** pane, click on the component you want to test.

3. Click **Test** in the left navigation menu and then click **Console**. This opens the **GraphQL Console** pane.

4. In the **GraphQL Console** pane, select the environment from the drop-down list.

5. Select the required endpoint from the **Endpoint** list.

    ![GraphQL Console](../assets/img/testing/graphql-console.png)

6. If the **Network Visibility** of the endpoint is set to **Organization**, click on **Generate URL** to generate a temporary test URL. Else, skip this step.

7. Enter the API path and the query or mutation you want to test.

8. Click the play icon to execute the query or mutation.

    ![GraphQL Console](../assets/img/testing/graphql-console.png)

For a comprehensive guide on testing GraphQL endpoints, refer to [this documentation](https://docs.choreo.dev/).

### Testing via Postman

Alternatively, you can also test your service using the Postman client after creating a request in the Choreo Console:

1. Go to the collection you created in Choreo and click the arrow icon.

2. In the **Requests** section, click **+Add**.

3. Specify a name and description for the request.

4. Select the appropriate HTTP method.

5. Add the necessary parameters under the **Parameters** tab.

6. Add the required header values under the **Headers** tab.

7. Specify the message body type under the **Body** tab.

8. Click **Save**.

9. Sign in to your Postman account, go to the linked workspace, locate the collection and the request you created.

10. Click **Send** to test your API.

For detailed instructions on setting up and testing with Postman, refer to [this documentation](https://docs.choreo.dev/).

Feel free to follow the steps that best suit your service type and testing needs.","['\nTo create a request and test your API, follow the steps given below:\n\n1. Go to the collection you created and click the arrow icon.\n2. In the **Requests** section, click **+Add**.\n3. Specify a name and description for the request.\n4. Select an appropriate HTTP method from the **Method** list.\n5. Click the **Parameters** tab and add the necessary parameters for the API method.\n6. Click the **Headers** tab and add the required header values.\n7. Click the **Body** tab and select the message body type to invoke the API method.\n   Choreo automatically populates the base URL and resource path with the URL to your actual service. \n8. Click **Save**. Now you can proceed to test the API via the Postman client.\n9.  Sign in to your Postman account and go to the workspace you linked.\n    You will see the collection and the request you created. \n10. Go to the request and click **Send** to test the API. ', ""Now that we have connected the source repository, and configured the endpoint details, it's time to build the service and create an image. Then we can deploy that image test the greeter service.\n\n### Step 2.1: Build\n\nTo build the service, follow these steps:\n\n1. On the **Build** page, click **Build**.\n2. Select the latest commit and click **Build**.\n3. Check the deployment progress by observing the console logs on the right of the page.\n\n\n    !!! note\n        Building the service component may take a while. You can track the progress by observing the logs. Once the build process is complete, the build status changes to **Success**.\n\nYou can access the following scans under **Build**. \n\n- **The Dockerfile scan**: Choreo performs a scan to check if a non-root user ID is assigned to the Docker container to ensure security. If no non-root user is specified, the build will fail.\n- **Container (Trivy) vulnerability scan**: This detects vulnerabilities in the final docker image. \n-  **Container (Trivy) vulnerability scan**: The details of the vulnerabilities open in a separate pane. If this scan detects critical vulnerabilities, the build will fail.\n\n!!! info\n    If you have Choreo environments on a private data plane, you can ignore these vulnerabilities and proceed with the deployment.\n\n### Step 2.2: Deploy\n\nNext, to deploy this service, follow these steps: \n\n1. In the left navigation menu, click **Deploy**.\n2. On the **Set Up** card, click **Configure &  Deploy**.\n3. Skip configuring the **Environment Configurations** and click **Next**.\n4. Skip adding a **File Mount**. Click **Deploy**.\n5. Review the **Endpoint Details** and click **Deploy**.\n\n    !!! note\n        Deploying the service component may take a while. You can track the progress by observing the logs. Once the deploying is complete, the build status changes to **Active** on the **Development** environment card.\n\nOnce you have successfully deployed your service, you can [test](../../testing/test-rest-endpoints-via-the-openapi-console.md), [manage](../../api-management/lifecycle-management.md), and [observe](../../monitoring-and-insights/observability-overview.md) it like any other component type in Choreo."", '\nChoreo provides an integrated OpenAPI Console to test REST endpoints of Service components that you create and deploy.\nAs Choreo uses OAuth2.0 authentication to secure REST APIs, the OpenAPI Console generates test keys to test APIs.\n\nFollow the steps below to test a REST endpoint via the integrated OpenAPI Console:\n\n1. Sign in to the [Choreo Console](https://console.choreo.dev/).\n\n2. In the **Component Listing** pane, click on the component you want to test.\n\n3. Click **Test** in the left navigation menu and then click **Console**. This opens the **OpenAPI Console** pane.\n\n4. In the **OpenAPI Console** pane, select the environment from the drop-down list.\n\n5. Select the required endpoint from the **Endpoint** list.\n\n    !!! note\n        - The **Network Visibility** of an endpoint is set in the **endpoints.yaml**. You can set it to **Public**, **Organization**, or **Project**.\n        - If you have set the **Network Visibility** of the endpoint in the **endpoints.yaml** to **Public**, go to step 7. \n        - If you have set the **Network Visibility** of the endpoint in the **endpoints.yaml** to **Organization**, the GraphQL endpoint will not be invokable from outside the organization. In this instance, for testing purposes, Choreo allows you to generate a temporay test URL that will be active for 15 minutes. Execute step 6 to generate the temporary URL. \n\n6. If the **Network Visibility** of the endpoint is set to **Organization**, click on **Generate URL** to generate a temporary test URL that will be active for 15 minutes. Else, skip this step. \n\n    !!! note\n        The temporary test URL will be available **only for 15 minutes** and it will get expired after. You can deactivate the test URL by clicking on the **Deactivate URL** button.\n\n\n    ![OpenAPI Console](../assets/img/testing/openapi-console-org.png){.cInlineImage-full}\n\n7. Expand the resource you want to test.\n\n8. Click **Try it out**.\n\n9. Enter values for parameters if applicable.\n\n10. Click **Execute**. You can see the response body under **Responses**.\n\n    ![OpenAPI Console](../assets/img/testing/openapi-console.png){.cInlineImage-full}', '\nChoreo provides an integrated GraphQL Console to test publicly exposed GraphQL endpoints of Service components you create and deploy. The GraphQL Console allows you to write queries and mutations interactively. As Choreo uses OAuth2.0 authentication by default to secure GraphQL APIs, the GraphQL Console generates test keys to test APIs.\n\nFollow the steps below to test a GraphQL endpoint via the GraphQL Console:\n\n1. Sign in to the [Choreo Console](https://console.choreo.dev/).\n\n2. In the **Component Listing** pane, click on the component you want to test.\n\n3. Click **Test** in the left navigation menu and then click **Console**. This opens the **GraphQL Console** pane.\n\n4. In the **GraphQL Console** pane, select the environment from the drop-down list.\n\n5. Select the required endpoint from the **Endpoint** list.\n\n    !!! note\n        - The **Network Visibility** of an endpoint is set in the **endpoints.yaml**. You can set it to **Public**, **Organization**, or **Project**.\n        - If you have set the **Network Visibility** of the endpoint in the **endpoints.yaml** to **Public**, continue with step 7. \n        - If you have set the **Network Visibility** of the endpoint in the **endpoints.yaml** to **Organization**, the GraphQL endpoint will not be invokable from outside the organization. In this instance, for testing purposes, Choreo allows you to generate a temporay test URL that will be active for 15 minutes. Execute step 6 to generate the temporary URL. \n        \n6. If the **Network Visibility** of the endpoint is set to **Organization**, click on **Generate URL** to generate a temporary test URL that will be active for 15 minutes. Else, skip this step. \n\n    !!! note\n        The temporay test URL will be available **only for 15 minutes** and it will get expired after. You can deactivate the test URL by clicking on the **Deactivate URL** button.\n\n    ![OpenAPI Console](../assets/img/testing/graphql-console-org.png){.cInlineImage-full}\n\n7. Enter the API path and the query or mutation you want to test.\n\n8. Click the play icon.\n\n    !!! tip\n        If you want to generate a required query or mutation for testing via the GraphQL Explorer, click **Explorer** to open the GraphQL Explorer.\n\n    ![GraphQL Console](../assets/img/testing/graphql-console.png){.cInlineImage-full}', '\nBefore you try out the steps in this guide, complete the following:\n\n - If you are signing in to the Choreo Console for the first time, create an organization as follows:\n    1. Go to [https://console.choreo.dev/](https://console.choreo.dev/), and sign in using your preferred method.\n    2. Enter a unique organization name. For example, `Stark Industries`.\n    3. Read and accept the privacy policy and terms of use.\n    4. Click **Create**.\n       This creates the organization and opens the **Project Home** page of the default project created for you.\n - Fork the [Choreo examples repository](https://github.com/wso2/choreo-samples), which contains the sample for this guide.\n\n\nWe can develop tests in a language of our choice and execute them within the Choreo platform.\n']","To test your service in **Choreo**, you can use the integrated **OpenAPI Console** within the **Choreo Console UI**. Here are the detailed steps to perform the test:\n\n**Steps to Test the Service in Choreo Console**\n\n1. **Navigate to the Test Console**:\n   - In the **Choreo Console** left navigation menu, click **Test** and then click **Console**.\n\n2. **Select the Environment**:\n   - In the **OpenAPI Console** that opens, select **Development** from the environment drop-down list.\n\n3. **Choose the Endpoint**:\n   - In the **Endpoint** list, select the relevant **REST endpoint** for your service.\n\n4. **Test the GET Method**:\n   - Expand the **GET /** method (e.g., **GET /books**).\n   - Click **Try it out**.\n   - Click **Execute**.\n   - Check the **Server Response** section to see the response from the server.\n\n5. **Test the POST Method**:\n   - Expand the **POST /** method (e.g., **POST /books**).\n   - Click **Try it out**.\n   - Update the **request body** with the necessary parameters. For example:\n   ```\n   {\n     author"": ""Your Author"""
How can I add environment variables to python webapp?,"To add environment variables to your Python webapp in Choreo, you need to follow specific steps. The Choreo platform offers a user-friendly way to manage these variables through its DevOps section. Below, I will outline the general process:

### For General Services, Webapps, and Components:

1. **Access Your Component:**
    - In the Choreo Console, navigate to the **Component Listing** pane and click on your webapp or component.
   
2. **Go to Configurations:**
    - From the left navigation menu, select **DevOps** and then click on **Configs & Secrets**.

3. **Create a Configuration:**
    - Click the **+ Create** button to start adding your environment variables.
    - In the **Mount a Configuration** pane, do the following:
        - Choose a **Config Type** as required (e.g., Environment Variables).
        - Select **File Mount** as the **Mount Type**.
        - Click **Next**.
        - Provide a name in the **Config Name** field.
        - Add the environment variables as key-value pairs (use the **Add Item** button to add multiple variables).

4. **Finalize and Save:**
    - Click **Create** to finalize the setup.
    
    ![Set environment variables](../assets/img/devops-and-ci-cd/configs/create-env-vars.png)

### For SPA (Single Page Applications):

If you're working on a SPA that runs entirely in the browser (e.g., React), the process is slightly different because Choreo follows a multi-environment deployment model:

1. **Prepare Runtime Configurations:**
    - In your forked [Choreo sample apps repository](https://github.com/wso2/choreo-sample-apps/), open the `public` directory and create a file named `config.js`.
    - Add your runtime configuration variables to `config.js`. Example:
    ```javascript
    window.config = {
        apiUrl: 'https://api.example.com',
        featureFlags: {
            enableNewFeature: true,
            enableExperimentalFeature: false,
        },
    };
    ```

2. **Update HTML to include Config Script:**
    - In your `index.html` file, add a script tag to include the `config.js` file.
    ```html
    <!DOCTYPE html>
    <html lang=""en"">
    <head>
        <meta charset=""utf-8"" />
        <title>My React App</title>
    </head>
    <body>
        <div id=""root""></div>
        <script src=""%PUBLIC_URL%/config.js""></script>
    </body>
    </html>
    ```

3. **Access Config Variables in Your Component:**
    - Access these variables in your React components by referencing `window.config`.
    ```javascript
    import React from 'react';

    function MyComponent() {
        const apiUrl = window.config.apiUrl;
        const enableNewFeature = window.config.featureFlags.enableNewFeature;
        const enableExperimentalFeature = window.config.featureFlags.enableExperimentalFeature;

        // ...
    }
    ```

4. **Deploy:**
    - Deploy your component to Choreo and specify the path for the configuration file mount where your `index.html` expects the `config.js` file.

For more details on managing configurations and secrets in Choreo, you can refer to the [official documentation](https://wso2.com/choreo/docs/devops-and-ci-cd/manage-configurations-and-secrets/#apply-a-file-mount-to-your-container).

By following these steps, you can effectively manage and use environment variables in your Python webapp or other applications within Choreo.","['\nFollow these steps to apply environment variables to a component you have created:\n\n1. Sign in to the [Choreo Console](https://console.choreo.dev/).\n2. In the **Component Listing** pane, click on the component for which you want to define configurations and secrets.\n3. In the left navigation menu, click **DevOps** and then click **Configs & Secrets**.\n4. Click **+ Create**.\n5. In the **Mount a Configuration** pane, do the following:\n    1. Select a **Config Type** depending on your requirement.\n    2. Select **File Mount** as the **Mount Type**.\n    3. Click **Next**.\n    4. In the **Config Name** field, specify a name for the file mount.\n  \n        !!!tip\n\n                The configuration name you specify does not affect the environment variables you set. It is only a reference to identify the configuration or secret you create.\n\n    5. Add the necessary environment variables as key-value pairs. You can click **Add Item** to add any number of environment variables.\n\n6. Click **Create**.\n   \n    ![Set environment variables](../assets/img/devops-and-ci-cd/configs/create-env-vars.png){.cInlineImage-full}\n', ""\nUsing environment variables is a recommended practice when developing integration artifacts with WSO2 Integration Studio, as it improves configuration management, security, portability, and manageability. By leveraging environment variables, organizations can streamline the management and maintenance of their integrations, ensuring that updates can be implemented quickly and efficiently.\n\nThe component's Deploy page provides a user-friendly interface to manage environment variables across different environments. For information on managing environment variables for complex use cases, see [Configurations and secrets](../devops-and-ci-cd/manage-configurations-and-secrets.md).\n\n![Environment variables](../assets/img/develop-components/micro-integrator/env_variables.png)\n\nEnvironment variables offer several benefits:\n\n - Configuration management: They simplify the process of managing and updating configuration settings, making it easier to maintain consistency across different environments.\n - Security: Environment variables help protect sensitive information by storing it securely and separating it from the main codebase.\n - Portability: By using environment variables, you can ensure that your integration artifacts can be easily migrated and deployed across various environments with minimal changes.\n - Manageability: Environment variables offer a centralized way to manage configuration settings, making it easier to update and maintain your integrations over time.\n\nFor a comprehensive list of parameters that can be configured as environment variables, see [WSO2 API Manager Documentation - Injecting Parameters - Supported parameters](https://apim.docs.wso2.com/en/latest/integrate/develop/injecting-parameters/#supported-parameters).\n"", '\nFor web apps with a backend server, Choreo allows you to mount runtime configurations and secrets as environment variables and/or file mounts for a specific environment. Alternatively, you can also inject them into the client app during SSR or when serving static content.\n\nHowever, in the case of SPAs that run completely on the browser, Choreo does not support ‘baking-in’ environment variables or other configurations. This is because Choreo follows a multi-environment deployment model, where configuration should be kept separate from the build and injected at runtime. For example, in most React SPA frameworks, the process.env stub is available during build time. However, it does not actually read in variables from the runtime. Instead, it is baked into the final JavaScript output during the build process. \n\nFor managing runtime configurations, Choreo recommends the following approach (this is a React example, but will be generally applicable for other SPA frameworks).\n\n!!! note\n    - With SPAs, anything you mount as a runtime config will be available to your users in the browser. \n    - **Do not include sensitive secrets that are not browser-safe**.\n\n\nFollow the steps below to manage runtime configurations for the React application you created above:\n\n1. Go to your forked [Choreo sample apps repository](https://github.com/wso2/choreo-sample-apps/).\n2. Open the public directory.\n3. Create and commit a new file in the public directory of your React app called `config.js`. This file should contain any runtime configuration variables you want to expose to your app, such as API endpoints or feature flags. Let\'s expose the API URL and a feature flag as follows:\n\n    ```\n    window.config = {\n    apiUrl: \'https://api.example.com\',\n        featureFlags: {\n            enableNewFeature: true,\n            enableExperimentalFeature: false,\n        },\n    };\n    ```\n2. In your index.html file inside the public directory , add a script tag as follows to include the config.js file inside the <body> tag, so that this config.js file will be accessible via JavaScript at runtime.\n\n    ```\n    <!DOCTYPE html>\n    <html lang=""en"">\n    <head>\n        <meta charset=""utf-8"" />\n        <title>My React App</title>\n    </head>\n    <body>\n        <div id=""root""></div>\n        <script src=""%PUBLIC_URL%/config.js""></script>\n    </body>\n    </html>\n\n    ```\nThis will make the `window.config` object available to your app at runtime.\n\n3. In your React component, you can access the configuration variables by referencing the window.config object as follows:\n\n    ```\n    import React from \'react\';\n\n    function MyComponent() {\n    const apiUrl = window.config.apiUrl;\n    const enableNewFeature = window.config.featureFlags.enableNewFeature;\n    const enableExperimentalFeature = window.config.featureFlags.enableExperimentalFeature;\n\n    // ...\n    }\n    ```\nNow you can deploy your component. \n\n4. When you deploy your component to Choreo, create a config file mount at the specified path in each environment (where your index.html expects the config.js file as in this example).\n[https://wso2.com/choreo/docs/devops-and-ci-cd/manage-configurations-and-secrets/#apply-a-file-mount-to-your-container](https://wso2.com/choreo/docs/devops-and-ci-cd/manage-configurations-and-secrets/#apply-a-file-mount-to-your-container).\n', '\n{% include ""create-an-application.md"" %}\n', '\n{% include ""create-an-application.md"" %}\n']","To set up environment variables in **Choreo**, follow these steps:\n\n**Steps to Apply Environment Variables**\n\n1. **Navigate to Your Component in Choreo Console**:\n   - Go to the **Component Listing** pane and click on the component you want to configure.\n\n2. Access **Configurations & Secrets**:\n   - In the left navigation menu, click **DevOps** and then click **Configs & Secrets**.\n\n3. **Create a New Environment Variable**:\n   - Click **+ Create**.\n   - In the **Create a Config or Secret** pane, select **Environment Variables**.\n\n4. **Mark as a Secret (Optional)**:\n   - If you need the environment variable values to be secrets, select **Mark as a Secret**. Note that you will not be able to read these values after setting them.\n\n5. **Specify the Environment Variables**:\n   - Enter the **Display Name** for your configuration or secret.\n   - Under **Add Environment Variables**, specify the environment variables as **key-value pairs**.\n   - Click **Add Item** to add more variables if needed.\n\n6. **Finalize Creation**:\n   - Click **Create** to save your environment variables.\n\n**Additional Tips**\n\n- **Ballerina Configurables**: If you are dealing with Ballerina components, you can manage configurables separately. Configurables can be used instead of environment variables for file mounts in Ballerina components. \n\n**Security Note**\n\n- All configurations and secrets are stored in an encrypted secret vault managed by **WSO2** in the cloud data plane. If you are on a private data plane, they are stored in an **Azure key vault** or **AWS secret manager** attached to your data plane in your cloud environment."
How to connect the React frontend to the backend?,"To connect a React front-end to a back-end deployed using Choreo, you need to follow a series of steps. Let's walk through the basic process:

1. **Create the Web Application Component**:
    - Go to the Choreo console and navigate to your project.
    - Click **+ Create** under the **Component Listing** section.
    - Select the **Web Application** card.
    - Fill in the relevant details such as name, description, and specify that the buildpack is **React**. Since the front-end is built with Vite, configure the build context path, build command, build output, and Node version accordingly.

    ```markdown
    | **Field**             | **Value**                                   |
    |-----------------------|---------------------------------------------|
    | **Component Name**    | `Your Web App`                              |
    | **Description**       | `Front-end application for your service`    |
    | **Buildpack**         | React                                       |
    | **Project Directory** | `reading-list-app/reading-list-front-end`   |
    | **Build Command**     | `npm install && npm run build`              |
    | **Build Path**        | `dist`                                      |
    | **Node Version**      | `18`                                        |
    ```

2. **Create a Connection to the Deployed Service**:
    - After creating the web application component, navigate to **Dependencies** and then **Connections** in the left menu.
    - Click **+ Create** and select the service you want to connect to.
    - Provide a name and description for the connection and complete the process. Copy the service URL provided for configuration.
    
    ```markdown
    | **Field**        | **Value**                       |
    |------------------|---------------------------------|
    | **Name**         | `Your Service Connection`       |
    | **Description**  | `Connection to your service`    |
    ```

3. **Configure the Front-End Application**:
    - Modify the `config.js` file in your front-end to include the service URL copied in the previous step.

    ```javascript
    window.configs = {
        apiUrl: '<Service URL>',
    };
    ```

4. **Build the Web Application Component**:
    - Navigate to **Build** in the left menu.
    - Click **Build**, then select the latest commit and trigger the build process. Monitor the build logs until completion.

5. **Configure Authentication and Deploy the Web Application**:
    - Go to the **Deploy** section and click **Configure and Deploy**. Ensure that you enable **Managed authentication with Choreo**.
    - Specify paths such as post login, post logout, and error paths.
    - Create and manage users to access the application.
    - Deploy the web application and copy the Web App URL provided upon deployment completion.

    ```markdown
    | **Field**           | **Value**  |
    |---------------------|------------|
    | **Post Login Path** | `/`        |
    | **Post Logout Path**| `/`        |
    | **Error Path**      | `/`        |
    ```

6. **Test the Front-End Application**:
    - Open the web application URL in a browser.
    - Log in with the credentials of the created user.
    - Interact with the application to ensure it is communicating with the back-end service.

These steps will help you connect and interact with your React front-end to the Choreo-hosted back-end service successfully.

For more detailed steps and visuals, refer to the comprehensive guide [here](https://wso2.com).

Feel free to reach out if you have any additional questions or need further assistance!","[""\nNow that the `Reading List Service` is deployed and available in the Choreo Marketplace, application developers can discover the service via the Marketplace and consume it.  \nIn the previous steps, you played the role of backend developer and developed a service. In this step, you will play the role of a web application developer who consumes the service.\n\nIn this guide, you will deploy a sample front-end application to consume the service. This application will serve as the interface for users to interact with the reading list. The sample application used in this guide is designed to personalize the reading lists based on the user ID that it obtains from its identity provider. \n\nTo host the front-end application in Choreo, you will create a web application component, set up authentication for it, and deploy it. To establish a connection between your web application and the deployed service, you will create a Connection. \n\n### Step 6.1: Create a web application to consume the service\n\nTo create a web application component, follow the steps given below:\n\n1. In the Choreo console header, go to the component list and close the `Reading List Service` component. This takes you to the home page of the mono repository project you created in [Step 1.1](#step-11-create-a-mono-repository-project).\n2. On the project home page, click **+ Create** under **Component Listing**.\n3. Click the **Web Application** card.\n4. To create the web application, specify the following values for each of the fields:\n\n    | **Field**             | **Value**               |\n    |-----------------------|-------------------------|\n    | **Component Name**    | `Reading List Web App`  |\n    | **Description**       | `Front-end application for the reading list service` |\n    | **Buildpack**         | Select **React** because the sample front-end application is a React application built with Vite|\n    | **Project Directory** | **`reading-list-app/reading-list-front-end-with-managed-auth`** |\n    | **Build Command**     | **`npm install && npm run build`**            |\n    | **Build Path**        | **`dist`**                                    |\n    | **Node Version**      | **`18`**                                      |\n\n5. Click **Create**. This initializes the component with the implementation from your GitHub repository and takes you to the **Overview** page of the component. \n\n### Step 6.2: Create a connection to the deployed service\n\nTo establish a connection between the web application you created and the deployed service, follow the steps given below:\n\n1. In the left navigation menu, click **Dependencies** and then click **Connections**.\n2. Click **+ Create**.\n3. In the **Create Connection** pane, click `Reading List Service-Readinglist`.`\n4. Specify values as follows for each of the fields:\n\n    | **Field**        | **Value**                       |\n    |------------------|---------------------------------|\n    | **Name**         | `Reading List Connection`       |\n    | **Description**  | `Connection to the reading list`|\n    \n5. Click **Next**. This displays the service URL of the connection for\neach environment the service is deployed in. In this guide, you will see the service URL for the Development environment.\n6. Click **Finish**. This opens the detailed view of the connection you created. You can copy the Service URL displayed here to use when you configure the web application before deploying it.\n\n### Step 6.3: Build the component\n\nTo build the web application, follow the steps given below:\n\n1. In the left navigation menu, click **Build**.\n2. In the **Builds** pane, click **Build**. This opens the **Commits** pane, where you can see all the commits related to the component.\n3. Select the latest commit and click **Build**. This triggers the build process and displays the build progress in the **Build Logs** pane.\n\n    !!! info\n         The build process can take a while to complete. When the build process is complete, the build will be listed in the **Builds** pane along with the build status. \n\n   Here, you will see the build status as **Success**.\n\n### Step 6.4: Configure and deploy the web application\n\nIn this step, you will configure managed authentication, create a user to access the web application, and then deploy the web application.\n\nTo configure managed authentication, follow the steps given below:\n\n1. In the left navigation menu, click **Deploy**.\n2. In the **Set Up** card, click **Configure and Deploy**. This opens the **Configure & Deploy** pane, where you can specify values for the mount file.\n3. Specify the following in the `config.js` file mount.\n    - You must replace `<Service URL>` with the value that you copied when creating a connection to the `Reading List Service` in [step 6.2](#step-62-create-a-connection-to-the-deployed-service).\n\n        ```javascript\n        window.configs = {\n            apiUrl: '<Service URL>',\n        };\n        ```\n\n4. Click **Next**. This opens the **Authentication** pane.\n5. Under **Authentication Settings**, make sure that you have the **Managed authentication with Choreo** toggle enabled.\n\n    !!! tip\n         Managed authentication is enabled by default when you create a web application using **React**, **Angular**, or **Vue.js** buildpacks. \n\n6. Specify values as follows for each of the fields:\n\n    | **Field**           | **Value**  |\n    |---------------------|------------|\n    | **Post Login Path** | `/`        |\n    | **Post Logout Path**| `/`        |\n    | **Error Path**      | `/`        |\n\nNext, you can create a user to access the web application.\n\nTo create a user to access the **readingListApp** application, follow the steps given below:\n\n1. Under **Manage Users**, click **+ Create**.\n2. To proceed with creating a user with the populated username and password, click **Create**. Make sure you copy the populated username and password to use when you test the front-end application.\n\n    !!! tip\n         You can create multiple users to test your front-end application.\n\nNow, you can deploy the web application.\n\nTo deploy the web application and obtain the URL to access it, follow the steps given below:\n\n1. In the **Authentication** pane, click **Deploy**. The deployment may take a few minutes to complete.\n2. Once you deploy the web application, copy the **Web App URL** from the development environment card.\n3. Navigate to the web app URL. You can verify that you have successfully hosted the web application.\n"", ""To host the front-end application in Choreo, you must create a web application component. To create a web application component, follow the steps given below.\n\n1. In the Choreo console, select the project of the reading list application that you created in the previous steps, from the project list located on the header.\n2. Click **Create** under the **Component Listing** section to create a new component.\n3. On the **Web Application** card, click **Create**.\n4. Enter a unique name and a description for the web application. You can enter the name and description given below:\n\n    | **Field**       | **Value**               |\n    |-----------------|-------------------------|\n    | **Name**        | `Reading List Web App`  |\n    | **Description** | `Frontend application for the reading list service` |\n\n5. Click **Next**.\n6. To allow Choreo to connect to your GitHub account, click **Authorize with GitHub**.\n7. In the **Connect Repository** pane, enter the following information:\n\n    | **Field**             | **Description**                               |\n    |-----------------------|-----------------------------------------------|\n    | **GitHub Account**    | Your account                                  |\n    | **GitHub Repository** | **`choreo-samples`** |\n    | **Branch**            | **`main`**                               |\n    | **Buildpack**      | Click **React** since the frontend is a React application built with Vite|\n    | **Build Context Path**              | **`reading-list-app/reading-list-front-end`** |\n    | **Build Command**     | **`npm install && npm run build`**             |\n    | **Build Output**      | **`dist`**                                    |\n    | **Node Version**      | **`18`**                                      |\n\n9. Click **Create**. This initializes the service with the implementation from your GitHub repository and takes you to the **Overview** page of the component.\n\nLet's consume the service through the web app. Choreo services are by default secured. To consume a service in Choreo you need an access token. Let's configure the web application to connect to an IdP (For this guide, let's use Asgardeo) to generate an access token for a user."", '\n1. On the Deploy page, click **Deploy Manually**. \nDeploying the component initiates the build pipeline, and upon completion, your application will become accessible in your Development environment through a generated URL. Choreo takes care of automatic TLS/SSL management for your apps.\n\n    !!! note\n        The deployment of the Web Application component may require some time. You can monitor the progress by observing the logs. Once the deployment is finished, the deployment status in the corresponding environment card will change to **Active**.\n\n\n2. Check the deployment progress by observing the console logs on the right of the page.\n    You can access the following scans under **Build**. \n\n    - **The Dockerfile scan**: Choreo performs a scan to check if a non-root user ID is assigned to the Docker container to ensure security. If no non-root user is specified, the build will fail.\n    - **Container (Trivy) vulnerability scan**: This detects vulnerabilities in the final docker image. \n    - **Container (Trivy) vulnerability scan**: The details of the vulnerabilities open in a separate pane. If this scan detects critical vulnerabilities, the build will fail.\n\n    !!! info\n        If you have Choreo environments on a private data plane, you can ignore these vulnerabilities and proceed with the deployment.\n\n    The DevOps configurations related to scaling, health checks and configuration & secret management are available to all Web Application components regardless of how they were created, similar to other Choreo components. \n\n3. To access your Web application, copy the **Web App URL** on the environment card and paste it in a browser. You will see your React App that you created. \n', '\nTo test the front-end application and send requests to the **Reading List Service** via it, follow the steps given below:\n\n1. Access the front-end application via its web URL that you copied in the above step.\n2. Click **Login**, and sign in with the credentials of the user that you created.\n\n    The application opens as follows.\n\n    ![Front-end application](../assets/img/quick-start-guides/front-end-application.png){.cInlineImage-half}\n\n3. Add three new reading items with different statuses.\n\n    For example, the details can be as follows:\n\n     | **Title**                 | **Author**        | **Status** |\n     |---------------------------|-------------------|------------|\n     | `The Museum of Innocence` | `Orhan Pamuk`     | `reading`  |\n     | `The Remains of the Day`  | `Kazuo Ishiguro`  | `to_read`  |\n     | `David Copperfield`       | `Charles Dickens` | `read`     |\n\n    To add each record, follow the steps given below:\n\n    1. Click **+ Add New**.\n    2. Enter values for the **Name**, **Author**, and **Status** fields.\n    3. Click **Save**.\n\n    Three tabs open for each status. To delete a reading list item, you can click **Delete**.\n\nTo verify whether the reading list is personalized for each user, you can sign in as a different user. The reading list items you entered above will not appear for the other user.\n\nCongratulations! You have successfully exposed a service endpoint via Choreo and securely consumed it from a web application.', '\n 1. To clone your GitHub repository to your local machine, run the following command in your terminal or command prompt:\n    \n    `git clone <repository\\_url>`\n\n     Replace `<repository\\_url>` with the URL of your GitHub repository.\n\n 2. Open the cloned repository in Visual Studio Code. To do this, launch Visual Studio Code, click **File** > **Open Folder**, and select the cloned GitHub repository folder.\n 3. Edit the `service.bal` file as follows to implement the integration logic:\n\n     a. Add the following line to create a configurable variable for the HR endpoint:\n\n       ```\n       configurable string hrEndpoint = ?;\n\n       ```\n  \n     b. Add the following lines of code to define ballerina records related to the integration use case:\n\n       ```\n       type Request record {|\n       int[] employeeIds;\n       |};\n\n       type Employees record {|\n       json[] employeeDetails;\n       |};\n\n       ```\n \n     c. Implement the rest of the logic to call invoke the HR endpoint, retrieve the employee ID list, call the employee details endpoint, and aggregate the results before responding. The code should resemble the following structure:\n\n       ```ballerina\n       import ballerina/http;\n\n       // Define configurable variables, including the HR endpoint\n       configurable string hrEndpoint = ?;\n\n       type Request record {|\n           int[] employeeIds;\n       |};\n\n       type Employees record {|\n           json[] employeeDetails;\n       |};\n\n       service / on new http:Listener(9090) {\n           // Define your resource functions here\n           resource function post employees(@http:Payload Request payload) returns Employees|error? {\n               http:Client locationEP = check new (hrEndpoint);\n               int[] idList = payload.employeeIds;\n               json[] employeInfoList = [];\n               foreach int id in idList {\n                   json empResponseJson = check locationEP->get(string `/employee/${id}`);\n                   employeInfoList.push(empResponseJson);\n               }\n               Employees aggregatedResponse = {employeeDetails: employeInfoList};\n               return aggregatedResponse;\n           }\n       }\n       ```\n       \n 4. Save your changes in Visual Studio Code.\n 5. To commit the changes to the GitHub repository, run the following commands in your terminal or command prompt:\n\n    ```git\n       git add  \n       git commit -m ""Implement integration logic"" \n       git push\n    ``` \n']","1: Create and Deploy Your Backend Service\nFirst, ensure your backend service is deployed in Choreo. If you don't have a service yet, you can create one by following these steps:\n1. **Connect to Your Repository:**\n   * On the project home page, click **Start** under **Create Multiple Components**.\n   * Go to the **GitHub** tab and authorize Choreo to connect to your GitHub account.\n   * Enter the repository URL and branch details.\n   * Select and configure the backend service component.\n2. **Build and Deploy the Service:**\n   * Click the service component listed under **Component Listing** on the project home page.\n   * In the left navigation menu, click **Build** and then **Build Latest**.\n   * Once the build is complete, proceed to deploy the service.\n\nStep 2: Create a React Frontend Application in Choreo\nNext, create a web application component for your React frontend:\n1. **Create the Web Application Component:**\n   * In the Choreo Console header, select your project.\n   * Click **+ Create** under **Component Listing**.\n   * Select **Web Application** and fill in the necessary details (display name, unique name, description).\n   * Authorize with GitHub to connect your repository.\n   * Enter your GitHub account, repository, and branch details.\n   * Select **React** as the buildpack.\n   * Enter the build configuration details (`Project Directory`, `Build Command`, `Build Path`, `Node Version`).\n2. **Build the Web Application Component:**\n   * In the left navigation menu, click **Build** and then **Build Latest**.\n\nStep 3: Connect the Web Application to the Backend Service\nTo establish a connection between your React frontend and the backend service:\n1. **Create a Connection:**\n   * In the left navigation menu, click **Dependencies** and then **Connections**.\n   * Click **+ Create** and select your backend service.\n   * Provide a name and description for the connection and click **Create**.\n   * Copy the service URL displayed for the Development environment.\n2. **Configure the Web Application:**\n   * In the left navigation menu, click **Deploy** and then **Configure and Deploy**.\n   * In the `config.js` file mount, replace `<Service URL>` with the copied service URL:\n     ```javascript\n     window.configs = {\n       apiUrl: '<Service URL>',\n     };\n     ```\n   * Ensure managed authentication is enabled and configure authentication settings (Post Login Path, Post Logout Path, Error Path).\n3. **Deploy the Web Application:**\n   * Click **Deploy** in the **Authentication** pane.\n   * Once deployed, copy the **Web App URL**.\n\nStep 4: Access and Test Your Application\n* Navigate to the web app URL to verify that your React frontend is successfully connected to the backend service."
How can I deploy my backend and then connect it to the frontend deployed in github pages?,"To deploy your backend and then connect it to a frontend deployed on GitHub Pages using Choreo, follow these detailed steps:

### Step-by-Step Guide:

### 1. Deploy the Backend Service

First, ensure your backend service is properly deployed using Choreo:

1. **Connect Your GitHub Repository to Choreo**: 
   - Authorize Choreo to access your GitHub repository using the [Choreo GitHub App](https://github.com/marketplace/choreo-apps).
   - Ensure the Choreo GitHub App has the necessary permissions:
     - **Read access** to issues and metadata.
     - **Read and write access** to code, pull requests, and repository hooks.

2. **Deploy the Service**:
   - Follow the deployment process as specified in your backend service guide. Ensure that the service is active and available.

### 2. Deploy the Frontend Application

If you're using GitHub Pages to deploy your frontend, you might follow a different path. However, here's how you can host the frontend on Choreo and connect it to the backend:

#### 2.1: Create a Web Application in Choreo

1. Navigate to your Choreo Console and close the backend service component.
2. On the project home page, click **+ Create** under **Component Listing**, and select **Web Application**.
3. Provide the following values:

   | **Field**             | **Value**                                    |
   |-----------------------|----------------------------------------------|
   | **Component Name**    | `Your Web App`                               |
   | **Description**       | `Front-end application for the backend`      |
   | **Buildpack**         | Select your framework (e.g., **React**)      |
   | **Project Directory** | Path to your frontend project in the repo    |
   | **Build Command**     | **`npm install && npm run build`**           |
   | **Build Path**        | **`dist`**                                   |
   | **Node Version**      | Provide the required Node.js version (e.g., 18)|

4. Click **Create** to initialize the component with the implementation from your GitHub repository.

#### 2.2: Create a Connection to the Backend Service

1. In the left navigation menu, click **Dependencies** and then **Connections**.
2. Click **+ Create**.
3. Select the backend service you deployed and provide the necessary details:
   
   | **Field**        | **Value**                        |
   |------------------|----------------------------------|
   | **Name**         | `Backend Service Connection`     |
   | **Description**  | `Connection to the backend`      |
   
4. Click **Next** and then **Finish** to complete the connection setup. Copy the service URL provided for the configuration.

#### 2.3: Build and Deploy the Web Application

1. **Build the Frontend**:
   - Navigate to **Build** in the left menu.
   - Click **Build** under **Builds** pane, select the latest commit, and trigger the build process.

2. **Configure the Application**:
   - Click **Deploy** and then **Configure and Deploy**.
   - In the `config.js` file, set the API URL to the backend service URL you copied:
   
     ```javascript
     window.configs = {
         apiUrl: '<Service URL>',
     };
     ```
   
3. **Enable Authentication**:
   - Enable **Managed authentication with Choreo**.
   - Set values for paths like post-login, post-logout, and error paths.

4. **Deploy the Application**:
   - Click **Deploy** and wait for the deployment to complete.
   - Copy the **Web App URL** from the deployment card to access your web application.

### Summary
- **Deploy the Backend Service** using Choreo Console by connecting your GitHub repository.
- **Create and Deploy the Frontend Application** in Choreo, ensuring you configure it to communicate with the backend service using the provided service URL.

For more detailed steps, refer to [Choreo documentation](https://wso2.com/choreo/docs/).

If you need any specific details or further refinements, let me know!","[""\nNow that the `Reading List Service` is deployed and available in the Choreo Marketplace, application developers can discover the service via the Marketplace and consume it.  \nIn the previous steps, you played the role of backend developer and developed a service. In this step, you will play the role of a web application developer who consumes the service.\n\nIn this guide, you will deploy a sample front-end application to consume the service. This application will serve as the interface for users to interact with the reading list. The sample application used in this guide is designed to personalize the reading lists based on the user ID that it obtains from its identity provider. \n\nTo host the front-end application in Choreo, you will create a web application component, set up authentication for it, and deploy it. To establish a connection between your web application and the deployed service, you will create a Connection. \n\n### Step 6.1: Create a web application to consume the service\n\nTo create a web application component, follow the steps given below:\n\n1. In the Choreo console header, go to the component list and close the `Reading List Service` component. This takes you to the home page of the mono repository project you created in [Step 1.1](#step-11-create-a-mono-repository-project).\n2. On the project home page, click **+ Create** under **Component Listing**.\n3. Click the **Web Application** card.\n4. To create the web application, specify the following values for each of the fields:\n\n    | **Field**             | **Value**               |\n    |-----------------------|-------------------------|\n    | **Component Name**    | `Reading List Web App`  |\n    | **Description**       | `Front-end application for the reading list service` |\n    | **Buildpack**         | Select **React** because the sample front-end application is a React application built with Vite|\n    | **Project Directory** | **`reading-list-app/reading-list-front-end-with-managed-auth`** |\n    | **Build Command**     | **`npm install && npm run build`**            |\n    | **Build Path**        | **`dist`**                                    |\n    | **Node Version**      | **`18`**                                      |\n\n5. Click **Create**. This initializes the component with the implementation from your GitHub repository and takes you to the **Overview** page of the component. \n\n### Step 6.2: Create a connection to the deployed service\n\nTo establish a connection between the web application you created and the deployed service, follow the steps given below:\n\n1. In the left navigation menu, click **Dependencies** and then click **Connections**.\n2. Click **+ Create**.\n3. In the **Create Connection** pane, click `Reading List Service-Readinglist`.`\n4. Specify values as follows for each of the fields:\n\n    | **Field**        | **Value**                       |\n    |------------------|---------------------------------|\n    | **Name**         | `Reading List Connection`       |\n    | **Description**  | `Connection to the reading list`|\n    \n5. Click **Next**. This displays the service URL of the connection for\neach environment the service is deployed in. In this guide, you will see the service URL for the Development environment.\n6. Click **Finish**. This opens the detailed view of the connection you created. You can copy the Service URL displayed here to use when you configure the web application before deploying it.\n\n### Step 6.3: Build the component\n\nTo build the web application, follow the steps given below:\n\n1. In the left navigation menu, click **Build**.\n2. In the **Builds** pane, click **Build**. This opens the **Commits** pane, where you can see all the commits related to the component.\n3. Select the latest commit and click **Build**. This triggers the build process and displays the build progress in the **Build Logs** pane.\n\n    !!! info\n         The build process can take a while to complete. When the build process is complete, the build will be listed in the **Builds** pane along with the build status. \n\n   Here, you will see the build status as **Success**.\n\n### Step 6.4: Configure and deploy the web application\n\nIn this step, you will configure managed authentication, create a user to access the web application, and then deploy the web application.\n\nTo configure managed authentication, follow the steps given below:\n\n1. In the left navigation menu, click **Deploy**.\n2. In the **Set Up** card, click **Configure and Deploy**. This opens the **Configure & Deploy** pane, where you can specify values for the mount file.\n3. Specify the following in the `config.js` file mount.\n    - You must replace `<Service URL>` with the value that you copied when creating a connection to the `Reading List Service` in [step 6.2](#step-62-create-a-connection-to-the-deployed-service).\n\n        ```javascript\n        window.configs = {\n            apiUrl: '<Service URL>',\n        };\n        ```\n\n4. Click **Next**. This opens the **Authentication** pane.\n5. Under **Authentication Settings**, make sure that you have the **Managed authentication with Choreo** toggle enabled.\n\n    !!! tip\n         Managed authentication is enabled by default when you create a web application using **React**, **Angular**, or **Vue.js** buildpacks. \n\n6. Specify values as follows for each of the fields:\n\n    | **Field**           | **Value**  |\n    |---------------------|------------|\n    | **Post Login Path** | `/`        |\n    | **Post Logout Path**| `/`        |\n    | **Error Path**      | `/`        |\n\nNext, you can create a user to access the web application.\n\nTo create a user to access the **readingListApp** application, follow the steps given below:\n\n1. Under **Manage Users**, click **+ Create**.\n2. To proceed with creating a user with the populated username and password, click **Create**. Make sure you copy the populated username and password to use when you test the front-end application.\n\n    !!! tip\n         You can create multiple users to test your front-end application.\n\nNow, you can deploy the web application.\n\nTo deploy the web application and obtain the URL to access it, follow the steps given below:\n\n1. In the **Authentication** pane, click **Deploy**. The deployment may take a few minutes to complete.\n2. Once you deploy the web application, copy the **Web App URL** from the development environment card.\n3. Navigate to the web app URL. You can verify that you have successfully hosted the web application.\n"", ""\n1. To deploy a service component with a GraphQL endpoint, you will need a GitHub account with a repository that contains an `endpoints.yaml`. Fork the [Choreo sample apps repository](https://github.com/wso2/choreo-sample-apps/), which contains the sample for this guide.\n2. The Choreo GitHub App requires the following permissions:\n- Read access to issues and metadata\n- Read and write access to code, pull requests, and repository hooks\n\nLet's get started!\n"", '\n1. To deploy a web application component, you will need a GitHub account with a repository that contains a web application. Fork the [Choreo sample apps repository](https://github.com/wso2/choreo-sample-apps/), which contains the sample for this guide.\n2. The Choreo GitHub App requires the following permissions:\n    - Read access to issues and metadata.\n    - Read and write access to code, pull requests, and repository hooks.\n', '\n1. On the Deploy page, click **Deploy Manually**. \nDeploying the component initiates the build pipeline, and upon completion, your application will become accessible in your Development environment through a generated URL. Choreo takes care of automatic TLS/SSL management for your apps.\n\n    !!! note\n        The deployment of the Web Application component may require some time. You can monitor the progress by observing the logs. Once the deployment is finished, the deployment status in the corresponding environment card will change to **Active**.\n\n\n2. Check the deployment progress by observing the console logs on the right of the page.\n    You can access the following scans under **Build**. \n\n    - **The Dockerfile scan**: Choreo performs a scan to check if a non-root user ID is assigned to the Docker container to ensure security. If no non-root user is specified, the build will fail.\n    - **Container (Trivy) vulnerability scan**: This detects vulnerabilities in the final docker image. \n    - **Container (Trivy) vulnerability scan**: The details of the vulnerabilities open in a separate pane. If this scan detects critical vulnerabilities, the build will fail.\n\n    !!! info\n        If you have Choreo environments on a private data plane, you can ignore these vulnerabilities and proceed with the deployment.\n\n    The DevOps configurations related to scaling, health checks and configuration & secret management are available to all Web Application components regardless of how they were created, similar to other Choreo components. \n\n3. To access your Web application, copy the **Web App URL** on the environment card and paste it in a browser. You will see your React App that you created. \n', ""\nTo connect your GitHub repository to Choreo, you should authorize the [Choreo Apps](https://github.com/marketplace/choreo-apps) GitHub application to access your account or organization. When you attempt to connect your GitHub repository via the Component creation page, the Choreo Apps authorization prompt will appear.\n\n* Connect GitHub Repository\n    \n    ![Connect GitHub Repository](../assets/img/develop-components/deploy/create-component-authz-github-page.png){.cInlineImage-threeQuarter}\n\n* Authorize GitHub Application\n    \n    ![Authorize GitHub Application](../assets/img/develop-components/deploy/authz-choreo-github-app.png){.cInlineImage-half}\n\n* Grant Repository Access\n\n    ![Grant Repository Access](../assets/img/develop-components/deploy/github-repo-access.png){.cInlineImage-full}\n\n\n    The **Choreo Apps** requires the following permission:\n    \n    - Read access to issues and metadata\n    - Read and write access to code, pull requests, and repository hooks\n\n!!! note\n    You can [revoke access](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/reviewing-your-authorized-integrations#reviewing-your-authorized-github-apps) if you do not want Choreo to have access to your GitHub account. Choreo needs write access only to send pull requests to a user repository. Choreo does not directly push any changes to a repository.\n\nAfter granting access to the required repositories, you can choose a repository and an associated branch to connect to the Choreo component.\nFor the containerized application deployments, you should select the **Dockerfile** as the **Buildpack** and provide **Dockerfile Path** and [**Docker Context Path**](https://docs.docker.com/build/building/context/#path-context) for the Docker build.\n\n![Connected Dockerfile Repository](../assets/img/develop-components/deploy/create-component-connected-repo.png){.cInlineImage-full}\n\nThe following table describes the individual fields in the **Create Component** pane.\n\n| **Field**               | **Description**                                                                                                                                                                      |\n|-------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n| **GitHub Account**      | Your GitHub account or organization. If you want to add another GitHub account, you can expand the list and click **+ Add**.                                                            |\n| **GitHub Repository**   | Depending on the repository access you provided, the list will show available repositories to be connected.                                                                                  |\n| **Branch**              | The branch of the repository.                                                                                                                                                         |\n| **Buildpack**        | Determines the implementation of the component: Any language or other language as a Docker container.                                                                                |\n| **Dockerfile Path**     | The path to your Dockerfile. This path is defined relative to the repository root.<br/>For example, if the Dockerfile is at the repository root, the value for this field is `/Dockerfile`. |\n| **Docker Context Path** | The Docker build context path. To include the repository root, leave the default `/` value.                                                                                          |\n| **Port***               | The port at which your service is running.                                                                                                                                           |\n| **OpenAPI Filepath***   | The path to an OpenAPI specification (in YAML/JSON) relative to the repository root. If you don't provide a path, the system automatically generates a default allow-all specification.    |\n\n   \n!!! note\n \n    - Fields marked with **\\*** are not visible for all component types.\n\n    - To successfully build your container with Choreo, it is essential to explicitly define a User ID (`UID`) under the `USER` instruction in your Dockerfile. You can refer to the [sample Dockerfile](https://github.com/wso2/choreo-sample-apps/blob/main/go/rest-api/Dockerfile) for guidance.\n\n    - To ensure that the defined USER instruction is valid, it must conform to the following conditions:\n        \n        - A valid User ID is a numeric value between 10000-20000, such as `10001` or `10500`.\n        - Usernames are not considered valid and should not be used. For example, `my-custom-user-12221` or `my-custom-user` are invalid User IDs.\n""]","To deploy a backend service on Choreo and connect it to a frontend hosted on GitHub Pages, follow these steps:\n\nStep 1: Deploy the Backend Service on Choreo\n1. Create a Project in Choreo:\n   * Go to the Choreo Console and sign in.\n   * On the organization home page, click **+ Create Project**.\n   * Enter a display name, unique name, and description for the project.\n   * Click **Create** to create the project and open the project home page.\n\n2. Connect Your GitHub Repository and Configure the Service:\n   * On the project home page, click **Start** under **Create Multiple Components**.\n   * Go to the **GitHub** tab.\n   * Click **Authorize with GitHub** to allow Choreo to connect to your GitHub account.\n   * Enter the GitHub account details, repository, and branch.\n   * In the **Add Component Directories** pane, click the + icon corresponding to your backend service directory.\n   * Configure the service component by specifying details such as Component Display Name, Component Name, Path, Component Type, Buildpack, and Language Version.\n   * Click **Save** and then **Finish** to initialize the service.\n\n3. Build and deploy the service\n   3.1: Build\n   * On the project home page, click the service component you created. This takes you to the component overview page.\n   * In the left navigation, click **Build**.\n   * Click **Build Latest**. The build process may take a while, and you can track the progress via the logs in the Build Details pane.\n   * Once the build process is complete, the build status changes to Success.\n\n   3.2: Deploy\n   * In the left navigation menu, click **Deploy**.\n   * On the **Set Up** card, click **Configure & Deploy**.\n   * In the **Environment Configurations** pane, click **Next**.\n   * In the **File Mount** pane, click **Next**.\n   * Review the **Endpoint Details** and click **Deploy**. In the Endpoint Details pane that opens, ensure that the Network Visibility is set to Public. This setting securely exposes the endpoint for external consumption.\n   * The deployment process may take some time, and you can track the progress by observing the logs.\n   * Once the deployment is complete, the build status changes to Active on the Development environment card.\n\n   Ensure that your backend service is configured to allow CORS (Cross-Origin Resource Sharing) requests from your frontend's domain (GitHub Pages). \n   This is crucial for enabling communication between the two different domains.\n   To do that follow these steps\n\n   3.3.: Enable CORS\n   * From your Development card access endpoint details. \n   * In the Endpoint Details pane Go to settings. \n   * From the security tab in the settings you can allow CORS.\n\nTo connect your service to the frontend deployed outside choreo in this case github pages you need to get the public url for your service.\n\n4. Getting the Public URL:\n   * Once the deployment is complete, navigate to the component overview page where you can find the service URL.\n   * Copy the public URL of the service from the development environment card.\n\n5. Then you have to manually add this public URL as the API URL in your frontend code.\n   Use this API URL in your frontend to make HTTP requests (e.g., GET, POST) to interact with your backend service."
How can I implement testing for a full-stack application including automated testing for both frontend and backend components?,"To implement testing for a full-stack application using Choreo, you can utilize the Test Runner component available within the Choreo platform. This component allows for automated testing of both frontend and backend components using popular programming languages like Go, Java, JavaScript, Python, and more. Here's a step-by-step guide to create and run tests:

### 1. Create a Test Runner Component

#### Step-by-Step Instructions:

1. **Create the Component:**
   - Go to [https://console.choreo.dev/](https://console.choreo.dev/) and sign in.
   - Click **+Create** in the **Component Listing** section.
   - Select the **Test Runner** card.
   - Enter a unique name and a description for the test runner component.

   ```markdown
   | Field       | Value                         |
   | ----------- | ----------------------------- |
   | Name        | Your Test Runner              |
   | Description | Description of your tests     |
   ```

2. **Connect to GitHub Repository:**
   - Click the **GitHub** tab and enter the following details:

   ```markdown
   | **Field**             | **Description**      |
   |-----------------------|----------------------|
   | **GitHub Account**    | Your account         |
   | **GitHub Repository** | Your repository name |
   | **Branch**            | `main`               |
   ```
   
3. **Select Buildpack:**
   - Under **Buildpack**, choose the appropriate buildpack based on the language of your tests. Here are examples for different languages:

   ```markdown
   === ""Go""
   | Field                | Value           |
   | -------------------- | --------------- |
   | Go Project Directory | /test-runner-go |
   | Language Version     | 1.x             |
   
   === ""JavaScript""
   | Field             | Value                   |
   | ----------------- | ----------------------- |
   | Project Directory | /test-runner-javascript |
   | Language Version  | 18.x.x                  |

   === ""Python""
   | Field             | Value                   |
   | ----------------- | ----------------------- |
   | Project Directory | /test-runner-python     |
   | Language Version  | 3.10.x                  |

   === ""Java""
   | Field             | Value                   |
   | ----------------- | ----------------------- |
   | Project Directory | /test-runner-java       |
   | Language Version  | 17                      |
   
   === ""Dockerfile""
   For advanced use cases or unsupported languages, define a custom Dockerfile.

   === ""Postman""
   | Field             | Value                    |
   | ----------------- | ------------------------ |
   | Postman Directory | /postman-collection-dir  |
   ```

4. **Create Component:**
   - Click **Create** to create the Test Runner component.

#### [More Information](https://wso2.com/choreo)

### 2. Build and Deploy the Test Runner

1. **Build the Component:**
   - On the left navigation, click **Build**.
   - Under **Builds**, click **Build**.
   - Select the latest commit and click **Build**. Once the build is complete, proceed to the next step.

2. **Deploy the Component:**
   - On the left navigation, click **Deploy**.
   - In the **Set Up** card, click **Deploy**. For additional configuration or secrets, use the **Configure and Deploy** option.
   - Once the deployment is successful, proceed to execute the tests.

### 3. Execute the Tests

1. **Run the Tests:**
   - On the left menu, click **Execute**.
   - Select the environment from the environment list.
   - Click **Run Now** to trigger test execution.

2. **View Test Results:**
   - Once the execution is completed, it is listed on the execution page.
   - Click on a specific execution to view the test results.

By following these steps, you can successfully implement automated testing for both frontend and backend components of your full-stack application using Choreo.

#### [More Information on Setting up Tests](https://wso2.com/choreo)","[""\nTest Runner is a component type in Choreo that simplifies the process of running automated tests against your components deployed in Choreo. This capability helps developers evaluate applications in different setups and environments, leading to more confidence and improved visibility into the application's status.\n\nYou can create tests using popular programming languages like Go, Java, JavaScript, Python, and more. Additionally, you have the option to build a test runner component by supplying a Dockerfile containing a series of test scripts or by offering a set of Postman Collections.\n"", '\n1. On the left navigation, click **Build**.\n2. Under **Builds**, click **Build**.\n3. Select the latest commit and click **Build**. Once Choreo completes the build process, you can proceed to the next step. \n4. On the left navigation, click **Deploy**.\n4. In the **Set Up** card, click **Deploy** to deploy the test runner component. If you want to provide additional configuration or secrets, use the **Configure and Deploy** option from the list.\n3. Once the deployment is successful, on the left menu, click **Execute**.\n4. Select the environment from the environment list and click **Run Now** to trigger a test execution.\n5. Once the execution is completed it is listed in the execution page. This may take sometime. Once the execution is listed, you can click on a particular execution to view the test result(s).', '\n1. Go to [https://console.choreo.dev/](https://console.choreo.dev/) and sign in. This opens the project home page.\n2. Click **+Create** in the **Component Listing** section. \n3. Click the **Test Runner** card.\n4. Enter a unique name and a description for the test runner component. For this guide, enter the following values:\n\n    | Field       | Value                         |\n    | ----------- | ----------------------------- |\n    | Name        | Go Test Runner                |\n    | Description | Test Runner implemented in Go |\n\n5. Click **GitHub** tab and enter the following information:\n\n    | **Field**                     | **Description**    |\n    |-------------------------------|--------------------|\n    | **GitHub Account**            | Your account       |\n    | **GitHub Repository**         | choreo-samples |\n    | **Branch**                    | **`main`**         |\n\n6. Under **Buildpack**, select a buildpack based on the language of your choice.\n7. Based on the buildpack you chose, select the relevant tab below and enter the respective values for the **Project directory** and **Go version** fields:\n\n    === ""Go""\n\n        | Field                | Value           |\n        | -------------------- | --------------- |\n        | Go Project Directory | /test-runner-go |\n        | Language Version     | 1.x             |\n    \n    === ""JavaScript""\n\n        | Field             | Value                   |\n        | ----------------- | ----------------------- |\n        | Project Directory | /test-runner-javascript |\n        | Language Version  | 18.x.x                  |\n\n    === ""Python""\n\n        | Field             | Value                   |\n        | ----------------- | ----------------------- |\n        | Project Directory | /test-runner-python |\n        | Language Version  | 3.10.x                  |\n\n    === ""Java""\n\n        | Field             | Value                   |\n        | ----------------- | ----------------------- |\n        | Project Directory | /test-runner-java |\n        | Language Version  | 17                 |\n\n    === ""Dockerfile""\n\n        For programming languages that doesn\'t support buildpacks or for advanced use cases, you can define your own Dockerfile and run test workloads. Refer to <BYOC link> for more information.\n\n    === ""Postman""\n\n        | Field             | Value                   |\n        | ----------------- | ----------------------- |\n        | Postman Directory | /postman-collection-dir |\n    \n8. Click **Create**. \n\nYou have successfully created a Test Runner component using a buildpack of you choice. Now let\'s build and run the tests.\n', '\nBefore you try out the steps in this guide, complete the following:\n\n - If you are signing in to the Choreo Console for the first time, create an organization as follows:\n    1. Go to [https://console.choreo.dev/](https://console.choreo.dev/), and sign in using your preferred method.\n    2. Enter a unique organization name. For example, `Stark Industries`.\n    3. Read and accept the privacy policy and terms of use.\n    4. Click **Create**.\n       This creates the organization and opens the **Project Home** page of the default project created for you.\n - Fork the [Choreo examples repository](https://github.com/wso2/choreo-samples), which contains the sample for this guide.\n\n\nWe can develop tests in a language of our choice and execute them within the Choreo platform.\n', '\n 1. To clone your GitHub repository to your local machine, run the following command in your terminal or command prompt:\n    \n    `git clone <repository\\_url>`\n\n     Replace `<repository\\_url>` with the URL of your GitHub repository.\n\n 2. Open the cloned repository in Visual Studio Code. To do this, launch Visual Studio Code, click **File** > **Open Folder**, and select the cloned GitHub repository folder.\n 3. Edit the `service.bal` file as follows to implement the integration logic:\n\n     a. Add the following line to create a configurable variable for the HR endpoint:\n\n       ```\n       configurable string hrEndpoint = ?;\n\n       ```\n  \n     b. Add the following lines of code to define ballerina records related to the integration use case:\n\n       ```\n       type Request record {|\n       int[] employeeIds;\n       |};\n\n       type Employees record {|\n       json[] employeeDetails;\n       |};\n\n       ```\n \n     c. Implement the rest of the logic to call invoke the HR endpoint, retrieve the employee ID list, call the employee details endpoint, and aggregate the results before responding. The code should resemble the following structure:\n\n       ```ballerina\n       import ballerina/http;\n\n       // Define configurable variables, including the HR endpoint\n       configurable string hrEndpoint = ?;\n\n       type Request record {|\n           int[] employeeIds;\n       |};\n\n       type Employees record {|\n           json[] employeeDetails;\n       |};\n\n       service / on new http:Listener(9090) {\n           // Define your resource functions here\n           resource function post employees(@http:Payload Request payload) returns Employees|error? {\n               http:Client locationEP = check new (hrEndpoint);\n               int[] idList = payload.employeeIds;\n               json[] employeInfoList = [];\n               foreach int id in idList {\n                   json empResponseJson = check locationEP->get(string `/employee/${id}`);\n                   employeInfoList.push(empResponseJson);\n               }\n               Employees aggregatedResponse = {employeeDetails: employeInfoList};\n               return aggregatedResponse;\n           }\n       }\n       ```\n       \n 4. Save your changes in Visual Studio Code.\n 5. To commit the changes to the GitHub repository, run the following commands in your terminal or command prompt:\n\n    ```git\n       git add  \n       git commit -m ""Implement integration logic"" \n       git push\n    ``` \n']","To implement automated testing for both frontend and backend components in a full-stack application using Choreo, follow these steps:\n\n**Backend Testing with Test Runner**\n\n**Create a Test Runner Component:**\n1. Go to the Choreo Console.\n2. **Click `+Create`** in the Component Listing section.\n3.Select  **`Test Runner`.**\n4. Enter a unique name and description for the test runner component.\n5. Go to the `GitHub` tab and enter:\n   - **GitHub Account**\n   - **GitHub Repository**\n   - **Branch**\n6. Select a buildpack based on the language of your choice.\n7. Enter the relevant values based on the selected buildpack.\n8. **Click `Create`.\n**Build and Deploy the Test Runner Component:**\n1. Navigate to `Build` on the left panel.\n2. **Click `Build`** and select the latest commit.\n3. Once the build completes, go to `Deploy`.\n4. **Click `Deploy`** to deploy the Test Runner component, or use `Configure and Deploy` for additional configurations.\n5. After deployment, go to `Execute` and select the environment.\n6. **Click `Run Now`** to trigger the test execution.\n7. Once execution is completed, click on a particular execution to view the test results.\n\n**Frontend Testing**\n\n**Access and Test Frontend Application:**\n1. Access the frontend application via its web URL.\n2. Perform manual testing by interacting with the application (e.g., adding items, checking user-specific data)."
"I'm getting ""procfile not found"" error for my python service. How do I resolve this?","To resolve the ""Procfile not found"" error for your Python service in Choreo, you need to ensure that a valid `Procfile` is present in the root directory of your project. This file is mandatory for Python projects in Choreo and must contain the commands needed to start your application.

### Creating and Adding a `Procfile`

1. **Create a `Procfile`:**
   - In the root directory of your project, create a new file named `Procfile`.
   
2. **Define the Command:**
   - Open the `Procfile` using a text editor and add the command that starts your Python application.
   - Here are some examples of how you might write the command based on the application setup:
     ```plaintext
     web: python main.py
     ```
     Or for frameworks like Flask or using a WSGI server like Gunicorn:
     ```plaintext
     web: flask run --host=0.0.0.0
     ```
     ```plaintext
     web: gunicorn --bind :8080 --workers 1 --threads 8 --timeout 0 main:app
     ```

### Example `Procfile`
Here's an example `Procfile` for a Flask application:
```plaintext
web: flask run --host=0.0.0.0
```

### Steps to Add or Verify the `Procfile`
1. **Navigate to Your Project Directory:**
   - Make sure you're in the root directory of your project where other files like `main.py` or `app.py` are present.

2. **Create or Edit the `Procfile`:**
   - Use any text editor or IDE to create or open the `Procfile`.

3. **Insert the Command to Start Your Application:**
   - Add the appropriate command in the `Procfile` as shown above.

### Checking Your Project on GitHub
After adding the `Procfile`:
- Make sure the `Procfile` is committed and pushed to your GitHub repository so that Choreo can access it.

### Conclusion
Having the correct `Procfile` in place should resolve the ""Procfile not found"" error when deploying your Python service on Choreo.

For more details and examples, you may refer to the [Choreo samples on GitHub](https://github.com/wso2/choreo-samples).

For more information, check the specific guide in the [Choreo documentation](https://docs.choreo.dev/).

Feel free to check out sample projects for different languages on Choreo to better understand the setup:
- [Reading Books List Service (Python)](https://github.com/wso2/choreo-samples/tree/main/reading-books-list-service-python)

If you have any other questions or need further assistance, let me know!","['\nTo develop a service component that exposes a REST API in Go. you can follow the [Develop a Go REST API ](develop-services/develop-a-go-rest-api.md) guide.\n\nFollow the guidelines below based on your language:\n\n=== ""Python""\n    Supported Versions - 3.10.x, 3.11.x\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service| [Reading Books List Service](https://github.com/wso2/choreo-samples/tree/main/reading-books-list-service-python)|\n    | Manual Task | [Hello World Task](https://github.com/wso2/choreo-samples/tree/main/hello-world-python-task)|\n\n    ### Procfile\n    A `Procfile` is a configuration file used to declare the commands that are run by your application\'s containers. \n    \n    !!! info \n        In **Python** projects, it is mandatory to have a `Procfile` with the `web` process type in the project root directory.\n\n    Here\'s an example `Procfile` for an application:\n\n    ```\n    web: <command to start your application>\n    ```\n\n    Eg:-\n\n    `web: python main.py` <br>\n    `web: gunicorn --bind :8080 --workers 1 --threads 8 --timeout 0 main:app` <br>\n    `web: flask run --host=0.0.0.0`\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== ""Ballerina""\n\n    Supported Versions - 2201.3.5, 2201.4.1, 2201.5.0, 2201.5.1, 201.6.0,  2201.7.0\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service| [Echo Service](https://github.com/wso2/choreo-samples/tree/main/echo-service)|\n    | Manual Task | [Covid19 Statistics To Email](https://github.com/wso2/choreo-samples/tree/main//covid19-statistics-to-email)|\n    | Webhook | [Salesforce New Case To Google Sheet](https://github.com/wso2/choreo-samples/tree/main/sfdc-new-case-to-gsheet)|\n    | Scheduled Task | [Shopify New Customers to HubSpot Create/Update Contact](https://github.com/wso2/choreo-samples/tree/main/shopify-new-customers-to-hubspot-contact)|\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== ""Go""\n\n    Supported Versions - 1.x\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service| [Greeting Service](https://github.com/wso2/choreo-samples/tree/main/greeting-service-go)|\n    | Manual Task | [Hello World Task](https://github.com/wso2/choreo-samples/tree/main/hello-world-go-task)|\n    | Web Application | [Hello World Web Application](https://github.com/wso2/choreo-samples/tree/main/hello-world-go-webapp)|\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== "".NET""\n    Supported Versions - 6.x, 7.x, 8.x\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service | [Greeting Service](https://github.com/wso2/choreo-samples/tree/main/dotnet-greeter)|\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== ""Java""\n    Supported Versions\n        - 8, 11, 17, 18 (OpenJDK Runtime Environment Temurin)\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service| [Product Management Service](https://github.com/wso2/choreo-samples/tree/main/product-management-service)|\n    | Manual Task | [Hello World Task](https://github.com/wso2/choreo-samples/tree/main/hello-world-java-task)|\n\n    !!! info\n\n         When working on Java projects:\n\n           - The `Main` class should be defined in the manifest file.\n           - If Maven files such as `mvn.cmd` exist in the project without the `.mvn` directory, the build will fail. To ensure a successful build, you must either commit the `.mvn` directory along with any Maven files or not include any Maven files in the project if you choose not to commit the `.mvn` directory.\n    \n    #### Procfile \n\n    A `Procfile` is a configuration file used to declare the commands that are run by your application\'s containers. \n    If you want to customize the default entry point of the container, you can include a `Procfile` with the `web` process type in the project root directory. \n    In **Java** projects, it is optional to include a `Procfile`.\n\n    Here\'s an example `Procfile` for an application:\n\n    ```\n    web: <command to start your application>\n    ```\n\n    Eg:-\n\n    `web: java -jar target/sample.jar` <br>\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== ""NodeJS""\n    Supported Versions - 12.x.x, 14.x.x, 16.x.x, 18.x.x, 20.x.x\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service| [Reading Books List Service](https://github.com/wso2/choreo-samples/tree/main/reading-books-list-service-nodejs)|\n    | Manual Task | [Hello World Task](https://github.com/wso2/choreo-samples/tree/main/hello-world-nodejs-task)|\n\n    #### Procfile \n\n    A `Procfile` is a configuration file used to declare the commands that are run by your application\'s containers. \n    If you want to customize the default entry point of the container, you can include a `Procfile` with the `web` process type in the project root directory. \n    In **NodeJS** projects, it is optional to include a `Procfile`.\n\n    Here\'s an example `Procfile` for an application:\n\n    ```\n    web: <command to start your application>\n    ```\n\n    Eg:-\n\n    `web: node app.js` <br>\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== ""PHP""\n    Supported Versions - 8.1.x, 8.2.x\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service| [Hello World Service](https://github.com/wso2/choreo-samples/tree/main/hello-world-php-service)|\n    | Manual Task | [Hello World Task](https://github.com/wso2/choreo-samples/tree/main/hello-world-php-task)|\n    | Web Application | [Hello World Web Application](https://github.com/wso2/choreo-samples/tree/main/hello-world-php-webapp)|\n\n    #### Procfile \n\n    A `Procfile` is a configuration file used to declare the commands that are run by your application\'s containers. \n    If you want to customize the default entry point of the container, you can include a `Procfile` with the `web` process type in the project root directory. \n    In **PHP** projects, it is optional to include a `Procfile`.\n\n    Here\'s an example `Procfile` for an application:\n\n    ```\n    web: <command to start your application>\n    ```\n\n    Eg:-\n\n    `web:php -S 0.0.0.0:8000 index.php` <br>\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== ""Ruby""\n    Supported Versions - 3.1.x, 3.2.x\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service | [Hello World Service](https://github.com/wso2/choreo-samples/tree/main/hello-world-ruby-service)|\n    | Manual Task | [Hello World Task](https://github.com/wso2/choreo-samples/tree/main/hello-world-ruby-task)|\n    | Web Application | [Hello World Web Application](https://github.com/wso2/choreo-samples/tree/main/hello-world-ruby-webapp)|\n\n    #### Procfile \n\n    A `Procfile` is a configuration file used to declare the commands that are run by your application\'s containers. \n    If you want to customize the default entry point of the container, you can include a `Procfile` with the `web` process type in the project root directory. \n    In **Ruby** projects, it is optional to include a `Procfile`.\n\n    Here\'s an example `Procfile` for an application:\n\n    ```\n    web: <command to start your application>\n    ```\n\n    Eg:-\n\n    `web: ruby app.rb` <br>\n    `web:bundle exec ruby app.rb -p 8080` <br>\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).\n\n=== ""WSO2 MI""\n    Supported Versions - 4.1.0.x, 4.2.0.x\n\n    Refer below examples for different component types. Follow the `readme.md` inside the example.\n\n    | Component Type  | Example            |\n    |---------------- |--------------------|\n    | Service |[Hello World Service](https://github.com/wso2/choreo-samples/tree/main/hello-world-mi)|\n\n    For more examples, see [Choreo samples](https://github.com/wso2/choreo-samples).', '\n{% include ""create-an-application.md"" %}\n', ""\nLet's create a containerized Service component by following these steps:\n\n1. Go to [https://console.choreo.dev/](https://console.choreo.dev/cloud-native-app-developer) and sign in. This opens the project home page.\n2. If you already have one or more components in your project, click **+ Create**. Otherwise, proceed to the next step.\n3. Go to the **Service** card and click **Create**.\n4. You can enter a unique name and a description of the service. For this guide, let's enter the following values:\n\n    | **Field**       | **Value**               |\n    |-----------------|-------------------------|\n    | **Name**        | `Go TCP Server`        |\n    | **Description** | `Sends greetings`       |\n\n5. Select **GitHub** tab.\n6. If you have not already connected your GitHub repository to Choreo, to allow Choreo to connect to your GitHub account, click **Authorize with GitHub** and enter your GitHub credentials, and select the repository you created in the prerequisites section to install the [Choreo GitHub App](https://github.com/marketplace/choreo-apps).\n\n    !!! info\n         The **Choreo GitHub App** requires the following permissions:\n\n         - Read and write access to code and pull requests.\n         - Read access to issues and metadata.\n             \n          You can [revoke access](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/reviewing-your-authorized-integrations#reviewing-your-authorized-github-apps) if you do not want Choreo to have access to your GitHub account. However, write access is only used to send pull requests to a user repository. Choreo will not directly push any changes to a repository.\n\n7. Enter the following information:\n\n    | **Field**               | **Description**                 |\n    |-------------------------|---------------------------------|\n    | **GitHub Account**      | Your account                    |\n    | **GitHub Repository**   | **`choreo-sample-apps`**        |\n    | **Branch**              | **`main`**                      |\n    | **Buildpack**        | **Dockerfile**                  |\n    | **Dockerfile Path**     | **go/tcp-service/Dockerfile.server** |\n    | **Docker Context Path** | **go/tcp-service**                     |\n\n\n    !!! info\n        1.  To successfully build your container with Choreo, it is essential to explicitly define a User ID (UID) under the USER instruction in your Dockerfile. For reference, see [sample Dockerfile](https://github.com/wso2/choreo-sample-apps/blob/main/go/tcp-service/Dockerfile.server).\n        To ensure that the defined USER instruction is valid, it must conform to the following conditions:\n            - A valid User ID is a numeric value between 10000-20000, such as `10001` or `10500`.\n            - Usernames are considered invalid and should not be used. For example, `my-custom-user-12221` or `my-custom-user` are invalid User IDs.\n\n        2. The Dockerfile utilized in this guide is a multi-stage Dockerfile, which is designed to keep the final image size small and provides the ability to build the application with a specific version of tools and libraries.\n\n8. Click **Create**. Once the component creation is complete, you will see the component's overview page.\n\nYou have successfully created a Service component from a Dockerfile. Now let's build and deploy the service.\n"", ""\nLet's create a containerized Service component by following these steps:\n\n1. Go to [https://console.choreo.dev/](https://console.choreo.dev/cloud-native-app-developer) and sign in. This opens the project home page.\n2. If you already have one or more components in your project, click **+ Create**. Otherwise, proceed to the next step.\n3. Go to the **Service** card and click **Create**.\n4. You can enter a unique name and a description of the service. For this guide, let's enter the following values:\n\n    | **Field**       | **Value**               |\n    |-----------------|-------------------------|\n    | **Name**        | `Go UDP Server`        |\n    | **Description** | `Sends greetings`       |\n\n5. Select **GitHub** tab.\n6. If you have not already connected your GitHub repository to Choreo, to allow Choreo to connect to your GitHub account, click **Authorize with GitHub** and enter your GitHub credentials, and select the repository you created in the prerequisites section to install the [Choreo GitHub App](https://github.com/marketplace/choreo-apps).\n\n    !!! info\n         The **Choreo GitHub App** requires the following permissions:\n\n         - Read and write access to code and pull requests.\n         - Read access to issues and metadata.\n             \n          You can [revoke access](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/reviewing-your-authorized-integrations#reviewing-your-authorized-github-apps) if you do not want Choreo to have access to your GitHub account. However, write access is only used to send pull requests to a user repository. Choreo will not directly push any changes to a repository.\n\n7. Enter the following information:\n\n    | **Field**               | **Description**                 |\n    |-------------------------|---------------------------------|\n    | **GitHub Account**      | Your account                    |\n    | **GitHub Repository**   | **`choreo-sample-apps`**        |\n    | **Branch**              | **`main`**                      |\n    | **Buildpack**        | **Dockerfile**                  |\n    | **Dockerfile Path**     | **go/udp-service/Dockerfile.server** |\n    | **Docker Context Path** | **go/udp-service**                     |\n\n\n    !!! info\n        1.  To successfully build your container with Choreo, it is essential to explicitly define a User ID (UID) under the USER instruction in your Dockerfile. For reference, see [sample Dockerfile](https://github.com/wso2/choreo-sample-apps/blob/main/go/udp-service/Dockerfile.server).\n        To ensure that the defined USER instruction is valid, it must conform to the following conditions:\n            - A valid User ID is a numeric value between 10000-20000, such as `10001` or `10500`.\n            - Usernames are considered invalid and should not be used. For example, `my-custom-user-12221` or `my-custom-user` are invalid User IDs.\n\n        2. The Dockerfile utilized in this guide is a multi-stage Dockerfile, which is designed to keep the final image size small and provides the ability to build the application with a specific version of tools and libraries.\n\n8. Click **Create**. Once the component creation is complete, you will see the component's overview page.\n\nYou have successfully created a Service component from a Dockerfile. Now let's build and deploy the service.\n"", ""\nLet's create a containerized Service component by following these steps:\n\n1. Go to [https://console.choreo.dev/](https://console.choreo.dev/cloud-native-app-developer) and sign in. This opens the project home page.\n2. If you already have one or more components in your project, click **+ Create**. Otherwise, proceed to the next step.\n3. Click **Service** card.\n4. You can enter a unique name and a description of the service. For this guide, let's enter the following values:\n\n    | **Field**       | **Value**               |\n    |-----------------|-------------------------|\n    | **Name**        | `Go gRPC Server`        |\n    | **Description** | `Sends greetings`       |\n5. If you have not already connected your GitHub repository to Choreo, to allow Choreo to connect to your GitHub account, click **Authorize with GitHub** and enter your GitHub credentials, and select the repository you created in the prerequisites section to install the [Choreo GitHub App](https://github.com/marketplace/choreo-apps).\n\n    !!! info\n         The **Choreo GitHub App** requires the following permissions:\n\n         - Read and write access to code and pull requests.\n         - Read access to issues and metadata.\n             \n          You can [revoke access](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/reviewing-your-authorized-integrations#reviewing-your-authorized-github-apps) if you do not want Choreo to have access to your GitHub account. However, write access is only used to send pull requests to a user repository. Choreo will not directly push any changes to a repository.\n\n6. Enter the following information:\n\n    | **Field**               | **Description**                 |\n    |-------------------------|---------------------------------|\n    | **GitHub Account**      | Your account                    |\n    | **GitHub Repository**   | **`choreo-sample-apps`**        |\n    | **Branch**              | **`main`**                      |\n    | **Buildpack**        | **Dockerfile**                  |\n    | **Dockerfile Path**     | **go/grpc/Dockerfile.server** |\n    | **Docker Context Path** | **go/grpc**                     |\n\n\n    !!! info\n        1.  To successfully build your container with Choreo, it is essential to explicitly define a User ID (UID) under the USER instruction in your Dockerfile. For reference, see [sample Dockerfile](https://github.com/wso2/choreo-sample-apps/blob/main/go/greeter/Dockerfile).\n        To ensure that the defined USER instruction is valid, it must conform to the following conditions:\n            - A valid User ID is a numeric value between 10000-20000, such as `10001` or `10500`.\n            - Usernames are considered invalid and should not be used. For example, `my-custom-user-12221` or `my-custom-user` are invalid User IDs.\n\n        2. The Dockerfile utilized in this guide is a multi-stage Dockerfile, which is designed to keep the final image size small and provides the ability to build the application with a specific version of tools and libraries.\n\n7. Click **Create**. Once the component creation is complete, you will see the component's overview page.\n\nYou have successfully created a Service component from a Dockerfile. Now let's build and deploy the service.\n""]","The error you're encountering is because Choreo requires a `Procfile` in your Python project's root directory. A `Procfile` is a configuration file used to declare the commands that are run by your application's containers. \n\nFor a Python project, your `Procfile` might look something like this:\n```\nweb: <command to start your application>\n``` \nFor example, if you're using Flask, your `Procfile` should look like this:\n```\nweb: flask run --host=0.0.0.0\n```\n\nPlease ensure that you have a `Procfile` in your project root directory and that it contains the appropriate command to start your application. You can refer more on this from the [Choreo documentation](https://wso2.com/choreo/docs/develop-components/deploy-an-application-with-buildpacks/#develop-a-component)."
I'm getting .choreo/endpoints.yaml not found error. How do I resolve this?,"To resolve the issue of the `endpoints.yaml` file not being found, you need to ensure that the file is placed correctly within your project directory and follows the required structure. Here’s a step-by-step guide to help you address this issue:

### Step-by-Step Guide

1. **Ensure Your Repository Contains `endpoints.yaml`:**
   Make sure the repository you're using has an `endpoints.yaml` file in the correct directory. If you don't have this file, you can create it based on the structure given below.

2. **Placing the `endpoints.yaml` File:**
   - **General Components:** Place the `endpoints.yaml` file inside the `.choreo` directory at the root of your project path.
   - **Ballerina Buildpack:** Place the `endpoints.yaml` file at `<component-root>/.choreo/endpoints.yaml`.
   - **WSO2 MI Buildpack:** Place the `endpoints.yaml` file at `<Project Path>/.choreo/endpoints.yaml`.

3. **Structure of `endpoints.yaml`:**
   The `endpoints.yaml` file has a specific structure containing details of the endpoints. Below is an example of how this file should look:

```yaml
version: ""v1""
name: ""sample-endpoint""
port: 8080
type: ""REST""
networkVisibility: ""Project""
context: ""/sample""
schemaFilePath: ""path/to/schema.yaml""
```

   - **version:** The version of the `endpoints.yaml` file.
   - **name:** A unique name for the endpoint.
   - **port:** The numeric port value that gets exposed via this endpoint.
   - **type:** The type of traffic this endpoint is accepting (e.g., `REST`, `GraphQL`, `gRPC`).
   - **networkVisibility:** Network level visibility (e.g., `Project`, `Organization`, `Public`).
   - **context:** The context (base path) of the API.
   - **schemaFilePath:** The relative path to the swagger definition file or OpenAPI specification file.

4. **Editing/Uploading `endpoints.yaml` in Choreo Console:**
   - In the Choreo Console, navigate to **Deploy** in the left navigation menu.
   - Click on **Update Image & Deploy** under the **Build Area** card.
   - In the **Endpoint** pane, click **Create/Update Endpoints**.
   - Edit the endpoints.yaml file or upload the associated API specification/schema files.

5. **Deploying the Component:**
   - Make sure that the `endpoints.yaml` file is committed to the repository.
   - Re-deploy your component to see the changes take effect.

### Additional Resources
- For more details on the structure and fields of the `endpoints.yaml` file, refer to [Understanding the endpoints.yaml file](https://wso2.com/choreo/docs/develop-components/develop-services/develop-a-service/#learn-the-endpointsyaml-file).

By following these steps, you should be able to resolve the issue of the `endpoints.yaml` not being found and successfully deploy your service component with the specified endpoints.

For further guidance, you can access more comprehensive docs [here](https://wso2.com/choreo/docs/develop-components/develop-services/develop-a-service/#learn-the-endpointsyaml-file).","[""\n1. To deploy a service component with a GraphQL endpoint, you will need a GitHub account with a repository that contains an `endpoints.yaml`. Fork the [Choreo sample apps repository](https://github.com/wso2/choreo-sample-apps/), which contains the sample for this guide.\n2. The Choreo GitHub App requires the following permissions:\n- Read access to issues and metadata\n- Read and write access to code, pull requests, and repository hooks\n\nLet's get started!\n"", '\n!!! info\n    This section only applies to Service components.\n\nAfter creating a Service component in Choreo, you have the option to define the endpoints for your service when manually deploying a new image.\n\n1. In the left navigation menu, click **Deploy**.\n2. In the **Build Area** card, click **Update Image & Deploy**. \n3. In the **Endpoint** pane that opens, optionally, you can define the endpoints for your service when you manually deploy the service. \n4. Click  **Create/Update Endpoints**.\n5. Under the **Edit endpoints.yaml** section, you can edit the endpoints YAML file in the provided editor. \n   Alternatively, you can upload the associated API specification/schema files (OpenAPI/GraphQL schemas). Reference this file in the endpoints.yaml file by its file name, instead of the file path. Similar to the Git-based Choreo components. The endpoints template follows the standard definitions for defining endpoints in Choreo. [Learn more](https://wso2.com/choreo/docs/develop-components/develop-services/develop-a-service/#learn-the-endpointsyaml-file)\n', ""\nThe method of defining endpoints depends on the buildpack. For buildpacks other than `Ballerina` and `WSO2 MI`, it is required to have an `endpoints.yaml` file in project root directory to create the Service component.\n\n### Configure endpoints with the Ballerina buildpack\n\nWhen you create a service component with the `Ballerina buildpack`, Choreo automatically detects the endpoint details for REST APIs. You can override the auto-generated endpoint configuration by providing the `endpoints.yaml` file in the source directory.\n\n!!! note\n    Automatic endpoint generation is not supported for dynamic endpoint parameters such as variable ports. Therefore, you must use an `endpoint.yaml` file to define dynamic endpoint parameters.\n\nSee [Understanding the endpoints.yaml file](#learn-the-endpointsyaml-file) to learn about the `endpoints.yaml` file.\n\n\n### Configure endpoints with the WSO2 MI buildpack\n\nWSO2 MI buildpack is where you can deploy integrations developed with WSO2 Micro Integrator as an API. In this preset, you have three different ways to define endpoints. Choreo gives priory to the definition of endpoints in the below-mentioned order. \n\n1. **Using endpoints.yaml file**\nThis is the most flexible method to define endpoints. You can configure the endpoint details with the `endpoints.yaml` configuration file. Place this file in the .choreo directory in the project path of the component. \nIf the Micro Integrator project has inbound endpoints, you can expose them via different endpoints using the `endpoints.yaml`\n\n    See [Understanding the endpoints.yaml file](#learn-the-endpointsyaml-file) to learn about the `endpoints.yaml` file.\n\n\n2. **Auto generating endpoints**\nIf `endpoints.yaml` is not provided and if the source Micro Integrator project has APIs, Choreo scans the project and generates the API endpoints. If the project has few APIs, an endpoint will be generated for each API. The visibility of this auto-generated endpoint is set to `Project` by default. You can change the visibility in the deployment flow.\n\n3. **Provide default endpoints**\nIf `endpoints.yaml` is not provided and if the source Micro Integrator project doesn't have APIs, Choreo generates a default endpoint which will expose the default micro integrator port (8290) with `Project` visibility and wildcard context.\n\n### Configure endpoints with the other buildpacks\n\nWhen you build a service component using the other buildpacks(Java, Python, NodeJS, Ruby, PHP, Go, Dockerfile, etc), you can configure the endpoint details with the `endpoints.yaml` configuration file. You must place this file inside the `.choreo` directory at the build context path and commit it to the source repository.\n\nSee [Understanding the endpoints.yaml file](#learn-the-endpointsyaml-file) to learn about the `endpoints.yaml` file.\n\n### Learn the endpoints.yaml file\n\nThe `endpoints.yaml` file has a specific structure and contains the following details:\n\n| Field                | Required     | Description                                                                      |\n|----------------------|--------------|----------------------------------------------------------------------------------|\n| **version**          | Required     | The version of the `endpoints.yaml` file.                                           |\n| **name**             | Required     | A unique name for the endpoint, which Choreo will use to generate the managed API.|\n| **port**             | Required     | The numeric port value that gets exposed via this endpoint.                      |\n| **type**             | Required     | The type of traffic this endpoint is accepting, such as `REST`, `GraphQL`, `gRPC`, `UDP`or `TCP`. Currently, the MI preset supports only the `REST` type.                                         |\n| **networkVisibility**| Required     | The network level visibility of this endpoint, which defaults to `Project` if not specified. Accepted values are `Project`, `Organization`, or `Public`.|\n| **context**          | Required     | The context (base path) of the API that Choreo exposes via this endpoint.        |\n| **schemaFilePath**   | Required     |  The swagger definition file path. Defaults to the wildcard route if not provided. This field should be a relative path to the project path when using the **Java**, **Python**, **NodeJS**, **Go**, **PHP**, **Ruby**, and **WSO2 MI** buildpacks. For REST endpoint types, when using the **Ballerina** or **Dockerfile** buildpack, this field should be a relative path to the component root or Docker context.|\n\n#### Sample endpoints.yaml\n\n**File location**:\n\n```bash\n<docker-build-context-path>/.choreo/endpoints.yaml\n```\n\n!!! note\n    - For components built with Ballerina buildpack `docker-build-context-path` should be replaced with `component-root`. \n    For example: `<component-root>/.choreo/endpoints.yaml`\n\n    - For components built with WSO2 MI buildpack `docker-build-context-path` should be replaced with `<Project Path>`. \n    For example: `<Project Path>/.choreo/endpoints.yaml`\n\n**File content**:\n\n```yaml"", '\nBefore you try out this guide, be sure that you have the following:\n  \n- A REST API Proxy component or a Service component that exposes a REST API with a valid OpenAPI specification. \n\n    !!! info\n        - If you are creating a REST API Proxy component, you can create it either by using a valid OpenAPI specification or by defining the resources manually.\n        - If you are creating a service component with the Dockerfile preset,  make sure to [expose the OpenAPI specification from your component](https://wso2.com/choreo/docs/develop-components/configure-endpoints/#learn-the-endpointsyaml-file).\n\n         \n\n    - If you do not already have a component, you can choose to create one from the following sources:\n\n    | Component type |Sample source                                       | Reference documentation      | \n    |----------------|----------------------------------------------------|------------------------------|\n    | REST API Proxy| [https://raw.githubusercontent.com/wso2/choreo-sample-apps/main/rest-api-proxy/pet-store/openapi.yaml](https://raw.githubusercontent.com/wso2/choreo-sample-apps/main/rest-api-proxy/pet-store/openapi.yaml ) | [Develop an API Proxy](../develop-components/develop-an-api-proxy.md) | \n    | Service (Exposing a REST API endpoint)| [https://github.com/wso2/choreo-sample-apps/tree/main/java/pet-store ](https://github.com/wso2/choreo-sample-apps/tree/main/java/pet-store ) |[Develop a REST API](../develop-components/develop-services/develop-a-rest-api.md) |\n', '\nBefore you try out this guide, complete the following:\n\n1. Go to [https://console.choreo.dev/](https://console.choreo.dev/), and sign in using your preferred method.\n2. Select your component from **Components Listing**. This will open the **Overview** page of your component.\n3. In the left navigation menu, click **Runtime** under **DevOps**.\n4. Copy the `Release ID` and the `Namespace`. Save it for later.\n']","The error message you're seeing, '.choreo/endpoints.yaml not found', indicates that the `endpoints.yaml` file is missing from your project's root directory in the `.choreo` folder. This file is required to define the endpoints for your service component. \n\nTo resolve this error, you need to create an `endpoints.yaml` file in the `.choreo` directory at the build context path and commit it to the source repository. The `endpoints.yaml` file should contain details about the endpoints that your service component will expose. Here is a sample `endpoints.yaml` file:\n\n```yaml\nversion: 0.1\nendpoints:\n- name: Your Service\n port: 9090\n type: REST\n networkVisibility: Project\n context: /your_service\n schemaFilePath: your_service_openapi.yaml\n```\n\nIn this file:\n\n- `name` is a unique name for the endpoint, which Choreo will use to generate the managed API.\n- `port` is the numeric port value that gets exposed via this endpoint.\n- `type` is the type of traffic this endpoint is accepting, such as `REST`, `GraphQL`, `gRPC`, `UDP`or `TCP`.\n- `networkVisibility` is the network level visibility of this endpoint, which defaults to `Public` if not specified. Accepted values are `Project`, `Organization`, or `Public`.\n- `context` is the context (base path) of the API that Choreo exposes via this endpoint. \n- `schemaFilePath` is the swagger definition file path. This field should be a relative path to the project path.\n\nPlease make sure to replace 'Your Service' and '/your_service' with the actual name and context of your service, and 'your_service_openapi.yaml' with the actual OpenAPI schema file.\n\nFor more detailed information about the `endpoints.yaml` file and its structure, you can refer to the following documentation"
Tell me how I can configure a readiness probe?,"To configure a readiness probe in Choreo, you will follow similar steps to configuring liveness probes, as these health checks help ensure the stability and availability of your application. Here's a step-by-step guide on how to do it:

1. **Navigate to Your Component:**
   - Go to the [Choreo Console](https://console.choreo.dev/).
   - In the **Component Listing** pane, click on the component for which you want to configure the readiness probe.

2. **Access Health Checks:**
   - In the left navigation menu, click on **DevOps**.
   - Under **DevOps**, click on **Health Checks**.

3. **Create a New Probe:**
   - On the **Health Checks** page, click **+ Create**.

4. **Configure the Readiness Probe:**
   - On the configuration page, choose the type of probe you want to set up. You have several options:
     - **HTTP `GET` Request:** Sends an HTTP `GET` request to a specified port and path. For example, you can configure it to hit the `/health` or `/healthz` endpoint of your service.
       - You can also add custom HTTP headers if needed.
       ![HTTP GET probe](../assets/img/devops-and-ci-cd/healthchecks/http-get-probe.png){.cInlineImage-half}
     - **TCP Connection Probe:** Attempts to open a socket to the container on a specified port. A failure to establish this connection indicates a failure.
     - **Executing a Command:** Runs a specified command in the container. The command should return a zero exit code to be considered successful.
       - Example: `[""cat"", ""/tmp/healthy""]` is considered healthy if the file `/tmp/healthy` exists.
 
5. **Save the Probe Configuration:**
   - After configuring the readiness probe, click **Save**.

6. **Verification:**
   - In the left navigation menu under **DevOps**, click on **Runtime**.
   - Check the details on the **Runtime** page to confirm that your container works as expected.
   - If the container does not start, check the **events and conditions** to see if any of the probes are causing the failure.

### Important Notes:
- **Readiness Probe Function:**
  - Unlike liveness probes, readiness probes do not restart the container upon failure. Instead, they stop the container from receiving network traffic.
  - It's crucial to be cautious when configuring readiness probes on single replica instances because if the probe fails, the application stops receiving traffic, potentially stopping the application entirely.

For more details, you can refer to the specific documentation in Choreo: 

- [Configuring Health Checks in Choreo](https://wso2.com/choreo/docs/devops-and-ci-cd/healthchecks)

By following these steps, you can effectively set up readiness probes to ensure your application is healthy and able to serve traffic.","['\nFollow these steps to configure liveness and readiness probes on a container:\n\n1. Sign in to the [Choreo Console](https://console.choreo.dev/).\n2. In the **Component Listing** pane, click on the component for which you want to configure liveness and readiness probes.\n3. In the left navigation menu, click **DevOps** and then click **Health Checks**.\n4. On the **Health Checks** page, click **+ Create**.\n5. Configure the liveness probe depending on your requirement.\n\n    ![Configure probe](../assets/img/devops-and-ci-cd/healthchecks/confgure-probes.png){.cInlineImage-full}\n\n6. Click **Save**.\n7. Configure the readiness probe depending on your requirement.\n8. Click **Save**.\n  \n    !!!info ""Note""\n\n          You can update or remove a probe at any time.\n\nFollow these steps to ensure that the container works as expected:\n\n1. In the left navigation menu, click **Runtime** under **DevOps**.\n2. On the **Runtime** page, check the details to confirm that the container works as expected. If the container does not start, check the **events and conditions** to see if any of the probes are causing the container to fail.', '\nYou can configure the following probe types for both readiness and liveness probes.\n\n### HTTP `GET` request\n\nThis probe sends an HTTP `GET` request to a specified port and path on the container. A response status code in the range of 200-399 indicates that the request is a success.\n\nDepending on your requirement, you can configure additional HTTP headers.\n\nThe recommended approach is to create a `/healthz` or `/health` endpoint in your service for this purpose.\n\n![HTTP GET probe](../assets/img/devops-and-ci-cd/healthchecks/http-get-probe.png){.cInlineImage-half}\n\n### TCP connection probe\n\nThis probe attempts to open a socket to the container on the specified port. If it cannot establish a TCP connection, it becomes a failure.\n\n### Execute a command\n\nThis probe executes a given script inside the container. A non-zero return from the command is considered a failure.\n\nFor example, `[""cat"", ""/tmp/healthy""]` is considered healthy if the file `/tmp/healthy` is present. If not, it becomes a failure (non-zero exit code).\nIn such scenarios, the application is responsible for writing and maintaining this file in the specified location.\n', '\nSimilar to liveness probes, readiness probes run periodically throughout the lifecycle of a container.\nHowever, unlike liveness probes, these probes do not restart the container if the probe fails. Instead, they stop the container from receiving network traffic.\n\n!!! warning ""Readiness probes on single replicas""\n    You must be mindful when you configure readiness probes on a single-running replica. If the readiness probe fails, your application stops receiving traffic  because there is only one active replica. The application may not recover unless the liveness probe fails and restarts the container.\n', '\nLiveness probes run periodically on your container and restart if the probe fails.\nThis allows the container to self-heal in scenarios where the application may have crashed or become unresponsive.\n', '\n   ![Edit configurations](../../assets/img/monitoring-and-insights/engineering-insights/edit-configurations.png){.cInlineImage-small}\n\n   You can edit or override the configurations you made via the edit option in the dashboard. ']","To configure a readiness probe in Choreo, follow these steps:\n\n1. In the **Component Listing** pane, click on the component for which you want to configure readiness probes.\n2. In the left navigation menu, click **DevOps** and then click **Health Checks**.\n3. On the **Health Checks** page, click **+ Create**.\n4. Configure the readiness probe depending on your requirement.\n5. Click **Save**. \n\nYou can update or remove a probe at any time. After setting up the probe, you can ensure that the container works as expected by clicking **Runtime** under **DevOps** in the left navigation menu. On the **Runtime** page, check the details to confirm that the container works as expected. If the container does not start, check the **events and conditions** to see if any of the probes are causing the container to fail.\n\nReadiness probes run periodically throughout the lifecycle of a container. Unlike liveness probes, these probes do not restart the container if the probe fails. Instead, they stop the container from receiving network traffic. Be mindful when you configure readiness probes on a single-running replica. If the readiness probe fails, your application stops receiving traffic because there is only one active replica. The application may not recover unless the liveness probe fails and restarts the container.\n\nYou can configure the following probe types for readiness probes:\n\n- HTTP `GET` request: This probe sends an HTTP `GET` request to a specified port and path on the container. A response status code in the range of 200-399 indicates that the request is a success. Depending on your requirement, you can configure additional HTTP headers. The recommended approach is to create a `/healthz` or `/health` endpoint in your service for this purpose.\n- TCP connection probe: This probe attempts to open a socket to the container on the specified port. If it cannot establish a TCP connection, it becomes a failure.\n- Execute a command: This probe executes a given script inside the container. A non-zero return from the command is considered a failure. For example, `[\""cat\"", \""/tmp/healthy\""]` is considered healthy if the file `/tmp/healthy` is present. If not, it becomes a failure (non-zero exit code). In such scenarios, the application is responsible for writing and maintaining this file in the specified location.\n\nFor more details, please refer to the [Set Up Health Checks] documentation."
How to configure Azure as an external IdP?,"To configure Azure Active Directory (Azure AD) as an external Identity Provider (IdP) in Choreo, you need to perform several steps both in the Choreo Console and Azure portal. This guide breaks down the steps comprehensively:

### Step 1: Configuring Azure AD as an IdP in Choreo Console

1. **Sign in to the Choreo Console**
   - Go to [Choreo Console](https://console.choreo.dev).

2. **Navigate to Settings**
   - In the left navigation menu, click **Settings**.
   - Click the **Organization** list in the header to open organization-level settings.

3. **Add a New Identity Provider**
   - On the **Application Security** tab, click **Identity Providers**.
   - Click **+ Identity Provider**.

4. **Select Azure AD as the Identity Provider**
   - Choose **Microsoft Entra ID (Azure AD)** from the list of Identity Providers.

5. **Provide Basic Information**
   - Add a name and description for the new IdP.

6. **Obtain the Well-Known URL from Azure AD**
   - Sign in to the Azure portal and navigate to **Azure Active Directory** > **App registrations** > **Endpoints**.
   - Copy the URI under `OpenID Connect metadata document`.

   !!! info
   - By default, Azure uses the v1 access token. To use the v1 access token, omit the `v2.0` path segment from the URL as demonstrated:  
     Convert `https://login.microsoftonline.com/<tenant-id>/v2.0/.well-known/openid-configuration` -> `https://login.microsoftonline.com/<tenant-id>/.well-known/openid-configuration`
   - To use `v2.0`, adjust the manifest as described in the [Azure documentation](https://learn.microsoft.com/en-us/azure/active-directory/develop/access-tokens#token-formats).

7. **Apply Settings**
   - Leave the **Apply to all environments** checkbox selected or choose specific environments from the **Environments** list.
   - Review the endpoints and click **Next**.

### Step 2: Creating and Configuring an API in Azure AD

1. **Register a New Application in Azure AD**
   - Sign in to the Azure portal.
   - Follow the [Azure guide](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app#register-an-application) to create a Web API representing your API on Choreo.

2. **Expose an API**
   - In the Azure portal, go to **App registrations**, select your application.
   - Under **Manage**, select **Expose an API**.
   - Add the default **Application ID URI** and click **Save and Continue**.

3. **Define Scopes for the API**
   - Under **Scopes defined by this API**, click **Add a scope**.
   - Enter a fully qualified name for the **scope name**.
   - Define consent requirements and fill in other details, then click **Add Scope**.

### Step 3: Assign Users to the API

1. **Navigate to Enterprise Applications**
   - In the Azure AD main menu under **Manage**, select **Enterprise Applications**.
   - Alternatively, go to **Microsoft Entra** > **Applications** > **Enterprise Applications**.

2. **Assign Users and Groups**
   - Select your API.
   - Under **Manage**, choose **Users and groups**, and click **+ Add user/group**.
   - Add the users or groups and click **Select**.

Refer to the detailed guide on [assigning apps to users and groups](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis#add-a-scope-requiring-admin-consent).

### Step 4: Creating an Application in Choreo Developer Portal for External IdP Authentication

1. **Sign in to Choreo Developer Portal**
   - Visit [Choreo Developer Portal](https://devportal.choreo.dev).

2. **Create an Application**
   - Go to **Applications** and click **+Create**.
   - Provide a name and description, and then click **Create**.

3. **Configure Credentials**
   - In the left navigation menu under **Credentials**, click **Production**.
   - Choose **AzureAD (Microsoft)** as the Identity Provider.
   - Enter the `Application (client) ID` from Azure as the **Client ID** and click **+Add**.

   !!! note 
   - The Client ID can only be used in one application.
   - The Identity Provider dropdown is shown only to organizations where external IdPs have been configured.

4. **Subscribe to APIs**
   - In the left navigation menu, click **Subscriptions**.
   - Click **+ Add APIs**, select the API you configured with scopes, and click **Add**.

By following these steps, you can configure Azure AD as an external IdP in Choreo, manage API security, and control access efficiently. For detailed steps and more information, refer to the [Choreo documentation on adding Azure AD as an IdP](https://example-link-to-choreo-docs.com).

","[""\nFollow the steps below to add Azure AD as an IdP in Choreo:\n\n1. Sign in to the Choreo Console at [https://console.choreo.dev/](https://console.choreo.dev).\n2. In the left navigation menu, click **Settings**.\n3. In the header, click the **Organization** list. This will open the organization level settings page. \n4. On the **Application Security** tab, click **Identity Providers** and then click **+ Identity Provider**.\n5. Select  **Microsoft Entra ID (Azure AD)** as the Identity Provider. \n6. Provide a name and a description for the IdP. \n7. To obtain the `Well-Known URL` of your Azure AD instance, on your Azure account, under **Azure Active Directory** go to **App registrations**, and then **Endpoints**. Copy the URI under`OpenID Connect metadata document`.\n    \n    !!! info\n        - In azure, there are two versions of access tokens available. By default, the IDP applications you create use the v1 access token. Therefore, if you intend to use the v1 access token, when providing the `Well-Known URL`, omit the v2.0 path segment from the URL. [Learn more](https://learn.microsoft.com/en-us/azure/active-directory/develop/access-tokens#token-formats)\n        For example, convert `https://login.microsoftonline.com/<tenant-id>/v2.0/.well-known/openid-configuration`-> `https://login.microsoftonline.com/<tenant-id>/.well-known/openid-configuration`\n        - If you intend to work with v2.0, then the IDP application's manifest should be changed as explained in the [access tokendocumentation](https://learn.microsoft.com/en-us/azure/active-directory/develop/access-tokens#token-formats). \n        \n8. Leave the **Apply to all environments** checkbox selected. However, if you want to restrict the use of the external IdP to a certain environment, you can select them from the **Environments** list.\n9. Review the endpoints and click **Next**."", '\nIn organizations leveraging Microsoft Azure Active Directory (Azure AD) for identity and access management (IAM), integrating it with Choreo offers powerful API access control. This control hinges on the use of API scopes. That is, it enables the restriction of access to a designated group of users. This document guide you step-by-step to configure Azure AD as your external IdP.\n', '\nTo enable external IdP authentication for APIs,  create an API on Azure AD that represents the API on Choreo. Follow the steps below: \n\n1. Sign in to the Azure console.\n2. Follow the [Azure guide](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app#register-an-application) to create a Web API that represents your API on Choreo.\n3. In the left navigation menu, under **Manage**, select **Expose an API**.\n4. Add the default **Application ID URI** and click **Save and Continue**.\n5. Under **Scopes defined by this API**, select **Add a scope**.\n6. Enter the fully qualified name as the **scope name**. \n7. Define who can consent. You can alternatively [add a scope requiring admin consent](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis#add-a-scope-requiring-admin-consent).\n8. Enter appropriate values and click **Add Scope**.\n\nFor more information, refer to the Azure documentation: \n\n- [Quickstart: Register an application with the Microsoft identity platform](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app)\n- [Quickstart: Configure an application to expose a web API](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis)\n\n### Step 2.1: Assign users to the web API\n\nYou can restrict users to the API as follows: \n\n1. Go to your Azure AD main menu. \n2. Under **Manage**,  click on **Enterprise Applications**. Alternatively, on Microsoft Entra, under **Applications**, click **Enterprise Applications**.\n3. Select your API. \n4. Under **Manage**, select the **Users and groups** then select **+ Add user/group**.\n5. Select the users and groups and click **Select**.\n\nFor more information, refer to the Azure documentation: [Assign the app to users and groups to restrict access](Assign the app to users and groups to restrict access)\n', '\nFollow the steps below to consume the Choreo API and use an external IdP for authentication:\n\n1. Sign in to the Choreo Developer Portal at [https://devportal.choreo.dev](https://devportal.choreo.dev).\n2. Click **Applications**. and then click **+Create**.\n3. Enter a name and description for the application. \n4. Click **Create**.\n5. In the left navigation menu, under **Credentials** and click **Production**.\n6. Select your AzureAD (Microsoft) configuration as the **Identity Provider**.\n7. Enter the `Application (client) ID` you copied in at Step 3.2 as the **Client ID**.\n8. Click **+Add**.\n\n    !!! note \n        - You can only use the Client ID in one application.\n        - The Identity Provider dropdown is visible only to organizations where you have configured external IdPs. \n\n9. In the left navigation menu, click **Subscriptions**.\n10. In the **Subscription Management** pane that opens, click **+ Add APIs**.\n11. Select the API you assigned scopes to in step 1 and click **Add**. \n\n', '\nAPI security refers to the measures and practices used to protect Application Programming Interfaces (APIs) from potential threats and vulnerabilities. Authentication and authorization are key aspects of API security. Authentication is ensuring that only authorized users or applications can access the API. This can involve using API keys, tokens, or more advanced authentication methods like OAuth 2.0. Authorization is controlling what authenticated users or applications are allowed to do within the API. Authorization mechanisms restrict access to specific resources and actions based on user roles or permissions. \n\nOrganizations using Microsoft Azure AD for identity and access management (IAM) can seamlessly integrate it with Choreo as an external Identity Provider (IdP). This guide will walk you through setting up Choreo to authenticate API invocations through Azure AD which is configured as an external IdP.\n\nThis guide walks you through the following steps:\n\n- Assign scopes to an API in Choreo. \n- Create an API in Azure AD.\n- Create an application in Azure AD and consume the Azure API.\n- Create an application in Choreo and enable external IdP authentication.\n- Invoke the API with scopes.\n']","To configure Azure Active Directory (Azure AD) as an external Identity Provider (IdP) in Choreo, you need to follow a sequence of steps. Before you begin, ensure that you have the following prerequisites:\n\n1. An Azure Active Directory account. You can set up an Azure Active Directory account at [Azure's website](https://azure.microsoft.com/en-gb/) if you don't already have one.\n2. Administrator rights to your Choreo organization. This is required to configure the Azure AD account in your organization.\n\nHere are the steps to add Azure AD as an IdP in Choreo:\n\n1. Sign in to the Choreo Console at [Choreo Console](https://console.choreo.dev/).\n2. In the left navigation menu, click **Settings**.\n3. In the header, click the **Organization** list. This will open the organization level settings page.\n4. On the **Application Security** tab, click **Identity Providers** and then click **+ Identity Provider**.\n5. Select **Microsoft Entra ID (Azure AD)** as the Identity Provider.\n6. Provide a name and a description for the IdP.\n7. To obtain the `Well-Known URL` of your Azure AD instance, on your Azure account, under **Azure Active Directory** go to **App registrations**, and then **Endpoints**. Copy the URI under`OpenID Connect metadata document`.\n8. Leave the **Apply to all environments** checkbox selected. However, if you want to restrict the use of the external IdP to a certain environment, you can select them from the **Environments** list.\n9. Review the endpoints and click **Next**.\n\nPlease note that in Azure, there are two versions of access tokens available. By default, the IDP applications you create use the v1 access token. Therefore, if you intend to use the v1 access token, when providing the `Well-Known URL`, omit the v2.0 path segment from the URL. If you intend to work with v2.0, then the IDP application's manifest should be changed as explained in the access token documentation.\n\nFor more detailed steps, you can refer to the [official documentation]"
How do I connect the service when I don't have authentication for my app?,"If you don't have authentication for your app, you need to set it up to securely connect services. Choreo offers managed authentication that simplifies this process for you. Here’s how you can do it:

### Set Up Managed Authentication

You can follow these steps to set up authentication and connect your service:

#### Step 1: Implement Sign-In Functionality

You need to add a sign-in button to your web application that redirects users to the `/auth/login` path. Here is a sample code snippet:

```javascript
<button onClick={() => {window.location.href=""/auth/login""}}>Login</button>
```

When the user clicks this button, they will be redirected to the preconfigured identity provider for authentication. If the sign-in is successful, they are redirected back to your application, and relevant session cookies are set.

#### Step 2: Obtain User Information Claims

After a successful sign-in, you can access user information. You can either fetch it from a `userinfo` cookie or an `/auth/userinfo` endpoint.

- **From `userinfo` cookie:**

```javascript
import Cookies from 'js-cookie';

// Read userinfo cookie value.
const encodedUserInfo = Cookies.get('userinfo');

// Decode the value.
const userInfo = JSON.parse(atob(encodedUserInfo));

// Clear the cookie.
Cookies.remove('userinfo', { path: '/' });
```

- **From `/auth/userinfo` endpoint:**

```javascript
const response = await fetch('/auth/userinfo');
if (response.status === 200) {
    const userInfo = await response.json();
} else {
    // Handle unauthorized access
}
```

#### Step 3: Implement Sign-Out Functionality

Add a sign-out button that redirects to the `/auth/logout` path:

```javascript
<button onClick={() => {
    window.location.href = `/auth/logout?session_hint=${Cookies.get('session_hint')}`;
}}>Logout</button>
```

This will clear the session cookies and log the user out via the configured identity provider.

#### Step 4: Invoke APIs

To invoke Choreo APIs from your application, use the `/choreo-apis/<api-suffix>` relative path. If Choreo's managed authentication is enabled, the API calls automatically include the required authentication cookies.

For instance:

```javascript
const response = await fetch('/choreo-apis/<api-suffix>');
```

If managed authentication isn't enabled, you need to attach an access token manually.

#### Step 5: Refresh User Session

If a session expires, refresh it by making a POST request to the `/auth/refresh` endpoint:

```javascript
const response = await fetch('/auth/refresh', { method: 'POST' });
if (response.status === 204) {
    // Session refreshed successfully
} else {
    // Handle error, possibly re-login
}
```

You can encapsulate this logic to automatically handle session refresh on receiving a `401 Unauthorized` response.

#### Step 6: Set Up a Custom Error Page

Configure a custom error page that Choreo redirects to in case of errors during sign-in or sign-out.

### Deploy and Enable Managed Authentication

After implementing these steps in your application, you'll need to enable managed authentication for the component and deploy it:

1. **Enable Managed Authentication**: In the Choreo Console, navigate to the component's settings and enable managed authentication.
2. **Deploy the Component**: Deploy your web application component which includes the managed authentication setup.

For a detailed guide, you can refer to this [documentation](https://github.com/wso2/choreo-samples/tree/main/reading-list-app/reading-list-front-end-with-managed-auth).

### Links to Documentation

- [Set up Authentication with Choreo](https://github.com/wso2/choreo-samples/tree/main/reading-list-app/reading-list-front-end-with-managed-auth)
- [Create and Manage Connections](https://wso2.com/choreo/docs/consuming-services/manage-application/#step-1-create-an-application)
- [Develop a Web Application](../develop-components/develop-a-web-application.md)

By following these steps, you can securely set up and manage authentication for your web application in Choreo.","['\nTo secure your web application, you must implement authentication and authorization for it. \n\nTo easily set up authentication for your web application with Choreo\'s managed authentication, follow the steps given below. You can also refer to a sample [React app with managed authentication](https://github.com/wso2/choreo-samples/tree/main/reading-list-app/reading-list-front-end-with-managed-auth).  \n\n### Step 1.1: Implement the sign-in functionality\n\nTo allow Choreo to manage the sign-in functionality for your web application, you must implement a sign-in button that redirects users to the `/auth/login` path on click. You can use the following code snippet or any custom button component from a preferred UI component library:\n\n``` javascript\n<button onClick={() => {window.location.href=""/auth/login""}}>Login</button>\n```\n\nThis code snippet works as follows:\n\nWhen a user clicks sign in on your web application, Choreo will redirect the user to the preconfigured identity provider and handle the authentication process, conforming to the OICD/OAuth2.0 protocols. On successful sign-in, Choreo will set the relevant session cookies and redirect the user to the post-sign-in path (default is `/`). The user can then invoke any Choreo-deployed APIs depending on the permission granted.\n\n### Step 1.2: Obtain user information claims\n\nChoreo\'s managed authentication allows you to access user information claims that the identity provider returns post-sign-in, either via a cookie or by invoking a GET resource.\n\n\n#### Obtain user information via the `userinfo` cookie\n\nUpon successful sign-in, Choreo\'s managed authentication establishes a `userinfo` cookie that is accessible from the post-sign-in path you configured (by default, set to /). This `userinfo` cookie, provided by the identity provider, contains encoded user information claims.\n\n!!! note\n    - The `userinfo` cookie is intentionally set to have a short lifespan of only 2 minutes.\n    - As a developer, you can decide how to utilize the user information that you retrieve. You must securely store the user information because the stored information can also serve as a means to verify the logged-in state of a user.\n    - The following example uses the `js-cookie` library for cookie parsing. You can use any cookie-parsing library of your choice.\xa0\n\nThe recommended approach is to retrieve user information from the cookie and subsequently clear the cookie. The following is a sample code snippet that you can include in your post-sign-in path to retrieve user information from the cookie and subsequently clear the cookie:\n\n``` javascript\n    import Cookies from \'js-cookie\';\n\n    // Read userinfo cookie value.\n    const encodedUserInfo = Cookies.get(\'userinfo\')\n\n    // Decode the value. \n    const userInfo = JSON.parse(atob(encodedUserInfo))\n\n    // Store the value in a preferred browser-based storage if needed.\n\n    // Clear the cookie.\n    Cookies.remove(\'userinfo\', { path: <post-login-path> })\n```\n#### Obtain user information via a GET endpoint\n\nChoreo\'s managed authentication provides the GET endpoint `/auth/userinfo` in addition to the `userinfo` cookie that it sets after successful sign-in. You can use this endpoint to query information about users who have signed in. It also serves as a mechanism to check the state of a user who has signed in.\n\nThe following is an example of a request to this endpoint:\n\n``` javascript\nconst response = await fetch(\'/auth/userinfo\')\n```\n\nIf a user has signed in, the server sends a `200 OK` response with the user information in JSON format in the response body. However, if the user is not signed in, the server sends a `401 Unauthorized` response.\n\n### Step 1.3: Implement the sign-out functionality\n\nTo allow Choreo to manage the sign-out functionality of your web application, you can implement a sign-out button to redirect users to the `/auth/logout` path along with the `session_hint` cookie value on click. You can use the following code snippet or any custom button component from a preferred UI component library:\n\n!!! note\n    - It is recommended to clear any user information (if stored) at the time of sign-out.\n    - The following example uses the `js-cookie` library for cookie parsing. You can use any cookie-parsing library of your choice.\xa0  \n    \n``` javascript\n<button onClick={async () => {\n    window.location.href = `/auth/logout?session_hint=${Cookies.get(\'session_hint\')}`;\n}}>Logout</button>`\n```\n\nWhen a user clicks the sign-out button, Choreo will clear the session cookies and redirect the users to the OIDC logout endpoint of the configured identity provider (if available).\xa0\xa0\n\n### Step 1.4: Invoke APIs\n\nTo invoke Choreo APIs within the same organization as your web application, you can use the relative path `/choreo-apis/<api-suffix>`, regardless of whether managed authentication is enabled for the web application or not.\n\n!!! note\n    To invoke a Choreo API from a web application, you need to [create a Connection](../develop-components/sharing-and-reusing-services.md#create-a-connection-to-a-service) from the web application to the Choreo API. \n\nFor example, if the API URL is `https://2d9ec1f6-2f04-4127-974f-0a3b20e97af5-dev.e1-us-east-azure.choreoapis.dev/rbln/item-service/api-e04/1.0.0`, the `<api-suffix>` would be `/rbln/item-service/api-e04/1.0.0`. You can invoke the API using the `/choreo-apis/rbln/item-service/api-e04/1.0.0` relative path from your single-page application.\n\n!!! info\n     To copy the exact service URL of a Connection, you can follow the steps given below:\n      1. In the Choreo Console, go to the appropriate web application component.\n      2. In the left navigation menu, click **Connections** under **Dependencies**.\n      3. Click on the required Connection and copy the service URL.\n\nIf you enable Choreo\'s managed authentication, you don\'t have to manually add any logic to attach an access token to the API call because Choreo APIs accept the cookies set by Choreo\'s managed authentication. You can directly invoke the API as follows:\n\n```\n    const response = await fetch(\'/choreo-apis/<api-suffix>\')\n```\n\nIf Choreo\'s managed authentication is disabled, you must ensure that your web application attaches a valid access token to the API call.\n\n\n### Step 1.5: Refresh session\n\nThe logged is user\'s session expires when the access token provided by the identity provider you have configured expires. After the session expires, the session must be refreshed to successfully call a Choreo-deployed API. For session refresh to function, you must set up the identity provider to issue a refresh token in addition to the access token.\n\n`401 Unauthorized` response status code for a Choreo API request from a logged in user with the necessary permissions indicates a possible session expiry. To refresh the session, you can make a POST request to the `/auth/refresh` endpoint.\n\nFor example:\n\n``` javascript\nconst response = await fetch(""/auth/refresh"", { method: ""POST"" })\n```\n\nIf the refresh token is valid, the session will be refreshed, and the system will respond with a `204 No Content` status.\n\nIf the refresh token has expired, the session will not be refreshed, and the system will respond with a `401 Unauthorized` status.\n\nTo automate the session refresh process on receiving a `401 unauthorized` response from the Choreo API, you can encapsulate the requests with the refresh logic. The following is an example code snippet that wraps GET requests:\n\n``` javascript\n    export const performGetWithRetry = async (url) => {\n        try {\n            // API call\n            return await fetch(\'/choreo-apis/<api-suffix>\');\n        } catch (error) {\n            if (error instanceof HttpError && error.status === 401) {\n                //Received 401 Unauthorized response from API GW. The access token may have expired.\n\n                // Try to refresh the token\n                const refreshResponse = await fetch(""/auth/refresh"", {\n                    method: ""POST""\n                });\n\n                const status = refreshResponse.status;\n                if (status === 401) {\n                    // Session has expired (i.e., Refresh token has also expired).\n                    // Redirect to login page\n                    window.location.href = ""/auth/login"";\n                }\n                if (status !== 204) {\n                    // Tokens cannot be refreshed due to a server error.\n                    console.log(""Failed to refresh token. Status: "" + status);\n\n                    //  Throw the 401 error from API Gateway.\n                    throw error;\n                }\n                // Token refresh successful. Retry the API call.\n                return await fetch(\'/choreo-apis/<api-suffix>\');\n            } else {\n                throw error;\n            }\n        }\n    };\n```\n\n### Step 1.6: Set up a custom error page\n\nYou can set up Choreo\'s managed authentication to redirect to a customized error page within your web application by defining the error path in the configuration. In the event of an error during a redirection-based process, such as sign in or sign out, Choreo will automatically redirect the user to the designated custom error page.\n\n!!! note\n    If you have not configured an error path, Choreo\'s managed authentication will use its default error page whenever an error occurs.\n\nChoreo\'s managed authentication will include the following query parameters in the URL when redirecting to the custom error page:\n\n| Parameter      |  Description                                    |\n|----------------|-------------------------------------------------|\n| code           | A short textual error code indicating the error |\n| message        | The description of the error                    |\n\n\nNow have successfully implemented Choreo\'s managed authentication for your web application. The next step is to enable managed authentication for the component, and subsequently deploy it.\n', '\nBefore you try out this guide, be sure you have the following:\n\n1. An application in the [Choreo Developer Portal](https://devportal.choreo.dev). If you do not have an application created, [create a new application](https://wso2.com/choreo/docs/consuming-services/manage-application/#step-1-create-an-application)\n2. [Generate keys for the application](https://wso2.com/choreo/docs/consuming-services/create-an-application/#step-2-generate-keys). \n3. [Subscribe APIs to the application](https://wso2.com/choreo/docs/consuming-services/create-a-subscription/#manage-subscriptions). \n\n', '\nTo enable external IdP authentication for APIs,  create an API on Azure AD that represents the API on Choreo. Follow the steps below: \n\n1. Sign in to the Azure console.\n2. Follow the [Azure guide](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app#register-an-application) to create a Web API that represents your API on Choreo.\n3. In the left navigation menu, under **Manage**, select **Expose an API**.\n4. Add the default **Application ID URI** and click **Save and Continue**.\n5. Under **Scopes defined by this API**, select **Add a scope**.\n6. Enter the fully qualified name as the **scope name**. \n7. Define who can consent. You can alternatively [add a scope requiring admin consent](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis#add-a-scope-requiring-admin-consent).\n8. Enter appropriate values and click **Add Scope**.\n\nFor more information, refer to the Azure documentation: \n\n- [Quickstart: Register an application with the Microsoft identity platform](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app)\n- [Quickstart: Configure an application to expose a web API](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-expose-web-apis)\n\n### Step 2.1: Assign users to the web API\n\nYou can restrict users to the API as follows: \n\n1. Go to your Azure AD main menu. \n2. Under **Manage**,  click on **Enterprise Applications**. Alternatively, on Microsoft Entra, under **Applications**, click **Enterprise Applications**.\n3. Select your API. \n4. Under **Manage**, select the **Users and groups** then select **+ Add user/group**.\n5. Select the users and groups and click **Select**.\n\nFor more information, refer to the Azure documentation: [Assign the app to users and groups to restrict access](Assign the app to users and groups to restrict access)\n', '\nTo test an API invocation, you must first create a connection to your API. To do this, you must have a web application created. You can use the web application you created while setting up the prerequisites.\n\nTo create a connection to the web application, follow the steps given below:\n\n1. In the Choreo Console, go to the top navigation menu, click the **Project** list, and select the project where you created the web application.\n2. On the project home page, click the web application listed under **Component Listing**.\n3. In the left navigation menu, click **Dependencies** and then click **Connections**.\n4. Create a connection to the API you deployed in [Step 1](#step-1-assign-permissions-to-an-api-in-choreo). \n   \nNow you can proceed to deploy the web application.\n\nWhen deploying, if your web application is a single-page application (SPA), you have the option to allow Choreo to handle authentication on behalf of the application. This approach eliminates the need to incorporate OAuth protocol-specific logic into your application.\n\n### Test the invocation when Choreo-managed authentication is enabled\n\nIf managed authentication is enabled for your web application, Choreo automatically handles obtaining the necessary permission for API invocation. This occurs during the request for access tokens, allowing you to seamlessly invoke the subscribed APIs through your web application without additional intervention. \n\n!!! note\n    If you change the permissions of an existing connection or create a new connection with permissions, you must redeploy your web application to ensure proper API invocation with managed authentication.\n\n### Test the invocation when the application manages the authentication\n\nIf your application manages authentication independently, follow the steps below to generate the necessary OAuth credentials to obtain access tokens:\n\n1. In the left navigation menu, click **Settings**. This opens the settings of the web application component.\n2. Click the **Authentication Keys** tab.\n3. Click on an environment tab depending on the environment for which you want to generate credentials.\n4. Select **Choreo Built-In Identity Provider** as the identity provider.\n5. Click to expand **Advanced Configurations** and make sure the `code` and `refresh` grant types are selected. This is required to obtain access tokens with an authorization code grant.\n6. Configure the callback URL of the web application to receive the authorization code.\n7. Click **Update Configurations**.\n8. Click **Regenerate Secret** and make a note of the client ID and secret that is generated.\n9. Retrieve an access token using the authorization code grant, specifying the necessary OAuth scopes (You can see the endpoint details on the right side).\n    - When prompted for authentication, enter the credentials of a user within the built-in identity provider (IdP) who possesses the required assigned groups.\n    - Navigate through the OAuth flow to obtain the JWT access token.\n10. Invoke the subscribed API using the access token.', ""\nBefore you try out this guide, ensure you have set up the following:\n\n- Configure the Choreo built-in identity provider with users. For step-by-step instructions, see [Configure a User Store with the Built-In Identity Provider](../administer/configure-a-user-store-with-built-in-idp.md).\n- Deploy and publish an API via Choreo. If you don't have an existing API in Choreo, you can either [develop a REST API](../develop-components/develop-services/develop-a-rest-api.md) or an [API Proxy](../develop-components/develop-an-api-proxy.md).\n- A web application for API subscription. If you don't have an application in Choreo, you must [create a web application](../develop-components/develop-a-web-application.md).\n- Administrator rights in your Choreo organization. You need this access to configure role-group and role-permission mappings.\n""]","To connect a service in Choreo without authentication, follow these steps:\n\n1. **Add the Connection Configuration**:\n   For single-page applications (SPAs):\n   - **Add the Configuration as a File Mount:**\n     * Navigate to the **Configurations** pane on the **Deploy** page.\n     * Mount a configuration file (e.g., **config.js**) and add the following configuration into it:\n       ```yaml\n       window.configs = {\n         apiUrl: '<SERVICE_URL>',\n       };\n       ```\n   - **Ensure Accessibility via JavaScript:**\n     * Add a script tag in the **index.html** file to reference the **config.js** file:\n       ```html\n       <!DOCTYPE html>\n       <html lang=\en\"">\n       <head>\n         <meta charset=\""utf-8\"" />\n         <title>My React App</title>\n       </head>\n       <body>\n         <div id=\""root\""></div>\n         <script src=\""%PUBLIC_URL%/config.js\""></script>\n       </body>\n       </html>\n       ```\n   For other types of web applications"
